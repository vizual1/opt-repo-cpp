{
    "metadata": {
        "collection_date": "2026-01-14T18:43:48.337001",
        "repository": "https://github.com/odygrd/quill",
        "repository_name": "odygrd/quill"
    },
    "commit_info": {
        "old_sha": "7b343a1ed681ff2d664664a14687da643cafa15f",
        "new_sha": "64a92dbbd2bc638e1865a692b78a0bf01246010c",
        "commit_message": [
            "use smaller queue size"
        ],
        "commit_date": "2020-02-27T09:50:58+00:00",
        "patch": [
            "--- quill/include/quill/Quill.h\n@@ -204,9 +204,9 @@ QUILL_ATTRIBUTE_COLD void set_backend_thread_sleep_duration(std::chrono::nanosec\n  *\n  * During very high logging activity (e.g. logging in a loop every 10 nanoseconds) the backend thread won't be\n  * able to consume fast enough and the queue will become full. In this scenario the caller thread\n- * will not block but instead it will switch to a new queue.\n+ * will not block but instead it will allocate a new queue.\n  *\n- * This function sets the initial capacity of the first queue. By default Quill starts with 131K queue.\n+ * This function sets the initial capacity of the first queue. By default Quill starts with a 16K queue.\n  *\n  * The smallest the queue the better the locality aas the queue will be small enough to stay in the\n  * cache and get reused. Increasing the size of the queue leads to more cache misses but less\n--- quill/include/quill/detail/Config.h\n@@ -60,7 +60,7 @@ class Config\n private:\n   std::string _backend_thread_name{\"Quill_Backend\"}; /** Custom name for the backend thread */\n   std::chrono::nanoseconds _backend_thread_sleep_duration{300};\n-  size_t _initial_queue_capacity{131072}; /**< Initial queue capacity default to 131K */\n+  size_t _initial_queue_capacity{16384}; /**< Initial queue capacity default to 16K */\n   uint16_t _backend_thread_cpu_affinity{\n     (std::numeric_limits<uint16_t>::max)()}; /** max() as undefined value, cpu affinity will not be set */\n };"
        ],
        "files_changed": [
            {
                "filename": "quill/include/quill/Quill.h",
                "status": "modified",
                "additions": 2,
                "deletions": 2,
                "changes": 4,
                "patch": "@@ -204,9 +204,9 @@ QUILL_ATTRIBUTE_COLD void set_backend_thread_sleep_duration(std::chrono::nanosec\n  *\n  * During very high logging activity (e.g. logging in a loop every 10 nanoseconds) the backend thread won't be\n  * able to consume fast enough and the queue will become full. In this scenario the caller thread\n- * will not block but instead it will switch to a new queue.\n+ * will not block but instead it will allocate a new queue.\n  *\n- * This function sets the initial capacity of the first queue. By default Quill starts with 131K queue.\n+ * This function sets the initial capacity of the first queue. By default Quill starts with a 16K queue.\n  *\n  * The smallest the queue the better the locality aas the queue will be small enough to stay in the\n  * cache and get reused. Increasing the size of the queue leads to more cache misses but less"
            },
            {
                "filename": "quill/include/quill/detail/Config.h",
                "status": "modified",
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "patch": "@@ -60,7 +60,7 @@ class Config\n private:\n   std::string _backend_thread_name{\"Quill_Backend\"}; /** Custom name for the backend thread */\n   std::chrono::nanoseconds _backend_thread_sleep_duration{300};\n-  size_t _initial_queue_capacity{131072}; /**< Initial queue capacity default to 131K */\n+  size_t _initial_queue_capacity{16384}; /**< Initial queue capacity default to 16K */\n   uint16_t _backend_thread_cpu_affinity{\n     (std::numeric_limits<uint16_t>::max)()}; /** max() as undefined value, cpu affinity will not be set */\n };"
            }
        ],
        "lines_added": 3,
        "lines_removed": 3
    },
    "issues": [],
    "pull_requests": [],
    "build_info": {
        "old_build_script": [
            "apt-get update",
            "cmake -S /test_workspace/workspace/old -B /test_workspace/workspace/old/build -DCMAKE_BUILD_TYPE=Debug -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -DQUILL_BUILD_TESTS=ON -DBUILD_TESTING=ON",
            "cmake --build /test_workspace/workspace/old/build -- -j 1"
        ],
        "new_build_script": [
            "apt-get update",
            "cmake -S /test_workspace/workspace/new -B /test_workspace/workspace/new/build -DCMAKE_BUILD_TYPE=Debug -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -DQUILL_BUILD_TESTS=ON -DBUILD_TESTING=ON",
            "cmake --build /test_workspace/workspace/new/build -- -j 1"
        ],
        "old_test_script": [
            "cd /test_workspace/workspace/old/build",
            "ctest --output-on-failure"
        ],
        "new_test_script": [
            "cd /test_workspace/workspace/new/build",
            "ctest --output-on-failure"
        ],
        "build_system": "cmake"
    },
    "performance_analysis": {
        "is_significant": false,
        "p_value": 0.9717009423681222,
        "is_pair_significant": false,
        "pair_p_value": 0.9566702336033343,
        "is_binom_significant": false,
        "binom_p_value": 0.991937599144876,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.9864874454736204,
        "is_mannwhitney_significant": false,
        "mannwhitney_p_value": 0.6740052864568942,
        "relative_improvement": -0.00674239648222804,
        "absolute_improvement_ms": -30.66666666666773,
        "old_mean_ms": 4548.333333333334,
        "new_mean_ms": 4579.000000000002,
        "old_std_ms": 549.4014506924681,
        "new_std_ms": 505.60547519951183,
        "effect_size_cohens_d": -0.058085451901527765,
        "old_ci95_ms": [
            4343.183460100963,
            4753.483206565705
        ],
        "new_ci95_ms": [
            4390.203812782009,
            4767.796187217995
        ],
        "old_ci99_ms": [
            4271.849848511647,
            4824.81681815502
        ],
        "new_ci99_ms": [
            4324.556617020411,
            4833.443382979592
        ],
        "new_times_s": [
            4.78,
            4.23,
            4.73,
            4.0,
            4.2,
            4.81,
            4.56,
            4.66,
            4.54,
            5.48,
            5.06,
            5.79,
            4.75,
            3.91,
            4.17,
            4.44,
            4.32,
            4.28,
            4.42,
            4.92,
            4.22,
            3.87,
            4.14,
            4.41,
            4.78,
            4.48,
            4.54,
            4.44,
            6.08,
            4.37,
            4.77
        ],
        "old_times_s": [
            4.51,
            4.63,
            4.64,
            5.26,
            4.55,
            4.16,
            4.4,
            4.47,
            4.93,
            5.55,
            4.72,
            3.85,
            4.56,
            4.61,
            4.14,
            4.59,
            4.28,
            4.61,
            4.48,
            3.87,
            4.21,
            4.33,
            4.23,
            4.12,
            4.12,
            6.64,
            4.66,
            4.42,
            4.07,
            5.11,
            4.24
        ]
    },
    "tests": {
        "total_tests": 1,
        "significant_improvements": 0,
        "significant_improvements_tests": [],
        "significant_regressions": 0,
        "significant_regressions_tests": [],
        "significant_pair_improvements": 0,
        "significant_pair_improvements_tests": [],
        "significant_pair_regressions": 0,
        "significant_pair_regressions_tests": [],
        "significant_binom_improvements": 0,
        "significant_binom_improvements_tests": [],
        "significant_binom_regressions": 0,
        "significant_binom_regressions_tests": [],
        "significant_wilcoxon_improvements": 0,
        "significant_wilcoxon_improvements_tests": [],
        "significant_wilcoxon_regressions": 0,
        "significant_wilcoxon_regressions_tests": [],
        "significant_mannwhitney_improvements": 0,
        "significant_mannwhitney_improvements_tests": [],
        "significant_mannwhitney_regressions": 0,
        "significant_mannwhitney_regressions_tests": [],
        "tests": [
            {
                "test_name": "TEST_quill",
                "is_significant": false,
                "p_value": 0.9752726046065155,
                "is_pair_significant": false,
                "pair_p_value": 0.9611220295998458,
                "is_binom_significant": false,
                "binom_p_value": 0.995934970676899,
                "is_wilcoxon_significant": false,
                "wilcoxon_p_value": 0.9910575468093157,
                "is_mannwhitney_significant": false,
                "mannwhitney_p_value": 0.7432137561368536,
                "relative_improvement": -0.0103992712919387,
                "absolute_improvement_ms": -47.241379310344556,
                "old_mean_ms": 4542.758620689655,
                "new_mean_ms": 4590.0,
                "old_std_ms": 559.124932063642,
                "new_std_ms": 509.0958371746635,
                "effect_size_cohens_d": -0.08835187533957188,
                "old_ci95_ms": [
                    4330.078870855894,
                    4755.438370523417
                ],
                "new_ci95_ms": [
                    4396.350300116124,
                    4783.649699883876
                ],
                "old_ci99_ms": [
                    4255.857664448393,
                    4829.659576930918
                ],
                "new_ci99_ms": [
                    4328.770220879308,
                    4851.229779120691
                ],
                "new_times": [
                    4.73,
                    4.0,
                    4.2,
                    4.81,
                    4.56,
                    4.66,
                    4.54,
                    5.47,
                    5.05,
                    5.79,
                    4.75,
                    3.91,
                    4.17,
                    4.44,
                    4.32,
                    4.28,
                    4.42,
                    4.92,
                    4.22,
                    3.87,
                    4.14,
                    4.41,
                    4.78,
                    4.48,
                    4.54,
                    4.44,
                    6.08,
                    4.37,
                    4.76
                ],
                "old_times": [
                    4.63,
                    5.26,
                    4.54,
                    4.15,
                    4.4,
                    4.46,
                    4.93,
                    5.55,
                    4.71,
                    3.85,
                    4.56,
                    4.61,
                    4.14,
                    4.59,
                    4.28,
                    4.6,
                    4.48,
                    3.87,
                    4.21,
                    4.33,
                    4.23,
                    4.12,
                    4.12,
                    6.64,
                    4.65,
                    4.42,
                    4.07,
                    5.11,
                    4.23
                ]
            }
        ]
    },
    "logs": {
        "full_log_path": "/logs/full.log",
        "config_log_path": "/logs/config.log",
        "build_log_path": "/logs/build.log",
        "test_log_path": "/logs/test.log",
        "build_success": true,
        "test_success": true
    },
    "raw_timing_data": {
        "warmup_runs": 1,
        "measurement_runs": 30,
        "min_exec_time_improvement": 0.05,
        "min_p_value": 0.05
    }
}