{
  "metadata": {
    "collection_date": "2026-01-11T17:47:19.297277",
    "repository": "https://github.com/taocpp/PEGTL",
    "repository_name": "taocpp/PEGTL"
  },
  "commit_info": {
    "old_sha": "e0c157a3544ea0e1ce6f1b05f03f5e9678f0a5ae",
    "new_sha": "d4ced1711073f4aba7ea6c1ebdf45338233f3f4c",
    "commit_message": [
      "parse_tree::basic_node now uses template Source, defaults to string_view\n\nThere is no reason to copy the string over and over again, most of the\ntime the source will be alive and a string_view will be enough.\n\nIf there is any case where this is not the case, then `basic_node` can\nbe told to use a different type via the second template parameter.\n\nCloses #243"
    ],
    "commit_date": "2020-12-19T14:16:19+00:00",
    "patch": [
      "--- include/tao/pegtl/contrib/parse_tree.hpp\n@@ -32,15 +32,15 @@\n \n namespace TAO_PEGTL_NAMESPACE::parse_tree\n {\n-   template< typename T >\n+   template< typename T, typename Source = std::string_view >\n    struct basic_node\n    {\n       using node_t = T;\n       using children_t = std::vector< std::unique_ptr< node_t > >;\n       children_t children;\n \n       std::string_view type;\n-      std::string source;\n+      Source source;\n \n       TAO_PEGTL_NAMESPACE::internal::iterator m_begin;\n       TAO_PEGTL_NAMESPACE::internal::iterator m_end;"
    ],
    "files_changed": [
      {
        "filename": "include/tao/pegtl/contrib/parse_tree.hpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "patch": "@@ -32,15 +32,15 @@\n \n namespace TAO_PEGTL_NAMESPACE::parse_tree\n {\n-   template< typename T >\n+   template< typename T, typename Source = std::string_view >\n    struct basic_node\n    {\n       using node_t = T;\n       using children_t = std::vector< std::unique_ptr< node_t > >;\n       children_t children;\n \n       std::string_view type;\n-      std::string source;\n+      Source source;\n \n       TAO_PEGTL_NAMESPACE::internal::iterator m_begin;\n       TAO_PEGTL_NAMESPACE::internal::iterator m_end;"
      }
    ],
    "lines_added": 2,
    "lines_removed": 2
  },
  "issues": [
    {
      "number": 243,
      "url": "https://github.com/taocpp/PEGTL/issues/243",
      "title": "Improve parse_tree::basic_node memory usage",
      "body": "Is there any reason why `basic_node` copies `source`? ",
      "created_at": "2020-12-19T13:55:05+00:00"
    }
  ],
  "pull_requests": [],
  "build_info": {
    "old_build_script": "#!/bin/bash\n#!/bin/bash\ncmake -S /test_workspace/workspace/old -B /test_workspace/workspace/old/build -DCMAKE_BUILD_TYPE=Debug -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -DPEGTL_BUILD_TESTS=ON",
    "new_build_script": "#!/bin/bash\n#!/bin/bash\ncmake -S /test_workspace/workspace/new -B /test_workspace/workspace/new/build -DCMAKE_BUILD_TYPE=Debug -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -DPEGTL_BUILD_TESTS=ON",
    "old_test_script": "#!/bin/bash\ncmake --build /test_workspace/workspace/old/build -- -j 1",
    "new_test_script": "#!/bin/bash\ncmake --build /test_workspace/workspace/new/build -- -j 1",
    "build_system": "cmake"
  },
  "performance_analysis": {
    "is_significant": false,
    "p_value": 0.6123365880877416,
    "is_pair_significant": false,
    "pair_p_value": 0.6131070021217491,
    "is_binom_significant": false,
    "binom_p_value": 0.9999862797558308,
    "is_wilcoxon_significant": false,
    "wilcoxon_p_value": 0.9989353680774209,
    "is_mannwhitney_significant": false,
    "mannwhitney_p_value": 0.3234951869592965,
    "relative_improvement": 0.03999999999999994,
    "absolute_improvement_ms": 14.999999999999957,
    "old_mean_ms": 374.99999999999994,
    "new_mean_ms": 360.0,
    "old_std_ms": 70.84465764785217,
    "new_std_ms": 23.925170701657454,
    "effect_size_cohens_d": 0.28369179769197655,
    "old_ci95_ms": [
      348.5461700777653,
      401.4538299222346
    ],
    "new_ci95_ms": [
      351.06619443701595,
      368.933805562984
    ],
    "old_ci99_ms": [
      339.3477864814708,
      410.6522135185291
    ],
    "new_ci99_ms": [
      347.95977957063906,
      372.0402204293609
    ],
    "new_times_s": [
      0.37,
      0.39,
      0.4,
      0.38,
      0.39,
      0.38,
      0.4,
      0.38,
      0.38,
      0.36,
      0.36,
      0.36,
      0.34,
      0.35,
      0.34,
      0.34,
      0.35,
      0.34,
      0.35,
      0.34,
      0.34,
      0.35,
      0.35,
      0.34,
      0.35,
      0.34,
      0.35,
      0.34,
      0.34,
      0.43,
      0.34
    ],
    "old_times_s": [
      0.4,
      0.39,
      0.39,
      0.4,
      0.39,
      0.38,
      0.4,
      0.37,
      0.4,
      0.4,
      0.72,
      0.34,
      0.34,
      0.34,
      0.45,
      0.34,
      0.35,
      0.35,
      0.34,
      0.34,
      0.34,
      0.35,
      0.34,
      0.35,
      0.35,
      0.36,
      0.36,
      0.34,
      0.34,
      0.35,
      0.34
    ]
  },
  "tests": {
    "total_tests": 3,
    "significant_improvements": 0,
    "significant_improvements_tests": [],
    "significant_regressions": 0,
    "significant_regressions_tests": [],
    "significant_pair_improvements": 0,
    "significant_pair_improvements_tests": [],
    "significant_pair_regressions": 0,
    "significant_pair_regressions_tests": [],
    "significant_binom_improvements": 0,
    "significant_binom_improvements_tests": [],
    "significant_binom_regressions": 0,
    "significant_binom_regressions_tests": [],
    "significant_wilcoxon_improvements": 0,
    "significant_wilcoxon_improvements_tests": [],
    "significant_wilcoxon_regressions": 0,
    "significant_wilcoxon_regressions_tests": [],
    "significant_mannwhitney_improvements": 1,
    "significant_mannwhitney_improvements_tests": [
      "pegtl-test-ascii_classes"
    ],
    "significant_mannwhitney_regressions": 0,
    "significant_mannwhitney_regressions_tests": [],
    "tests": [
      {
        "test_name": "pegtl-test-ascii_classes",
        "is_significant": false,
        "p_value": 0.08574884100921192,
        "is_pair_significant": false,
        "pair_p_value": 0.10397334164179102,
        "is_binom_significant": false,
        "binom_p_value": 0.9997269436717033,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.9298527295121626,
        "is_mannwhitney_significant": true,
        "mannwhitney_p_value": 0.023621262793599638,
        "relative_improvement": 0.14285714285714296,
        "absolute_improvement_ms": 1.7241379310344844,
        "old_mean_ms": 12.068965517241383,
        "new_mean_ms": 10.344827586206899,
        "old_std_ms": 4.122508203948856,
        "new_std_ms": 1.8569533817705186,
        "effect_size_cohens_d": 0.5392758535282179,
        "old_ci95_ms": [
          10.500847260973613,
          13.637083773509152
        ],
        "new_ci95_ms": [
          9.638480295932675,
          11.05117487648112
        ],
        "old_ci99_ms": [
          9.95360367590831,
          14.184327358574455
        ],
        "new_ci99_ms": [
          9.391978463634116,
          11.29767670877968
        ],
        "new_times": [
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.02,
          0.01
        ],
        "old_times": [
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.02,
          0.02,
          0.02,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.02,
          0.01,
          0.02,
          0.02,
          0.01,
          0.01,
          0.01,
          0.01
        ]
      },
      {
        "test_name": "pegtl-test-contrib_json",
        "is_significant": false,
        "p_value": 0.698593320008648,
        "is_pair_significant": false,
        "pair_p_value": 0.68950897814047,
        "is_binom_significant": false,
        "binom_p_value": 0.9999999981373549,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.9999978486102682,
        "is_mannwhitney_significant": false,
        "mannwhitney_p_value": 0.16714290224817413,
        "relative_improvement": 0.03333333333333337,
        "absolute_improvement_ms": 0.3448275862068962,
        "old_mean_ms": 10.344827586206899,
        "new_mean_ms": 10.000000000000002,
        "old_std_ms": 1.8569533817705184,
        "new_std_ms": 1.7654289301252243e-15,
        "effect_size_cohens_d": 0.26261286571944487,
        "old_ci95_ms": [
          9.638480295932675,
          11.05117487648112
        ],
        "new_ci95_ms": [
          10.000000000000002,
          10.000000000000002
        ],
        "old_ci99_ms": [
          9.391978463634118,
          11.29767670877968
        ],
        "new_ci99_ms": [
          10.0,
          10.000000000000004
        ],
        "new_times": [
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01
        ],
        "old_times": [
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.02,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01
        ]
      },
      {
        "test_name": "pegtl-test-contrib_uri",
        "is_significant": false,
        "p_value": 1.0,
        "is_pair_significant": false,
        "pair_p_value": 1.0,
        "is_binom_significant": false,
        "binom_p_value": 1.0,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.9999999638108507,
        "is_mannwhitney_significant": false,
        "mannwhitney_p_value": 1.0,
        "relative_improvement": 0.0,
        "absolute_improvement_ms": 0.0,
        "old_mean_ms": 10.000000000000002,
        "new_mean_ms": 10.000000000000002,
        "old_std_ms": 1.7654289301252243e-15,
        "new_std_ms": 1.7654289301252243e-15,
        "effect_size_cohens_d": 0.0,
        "old_ci95_ms": [
          10.000000000000002,
          10.000000000000002
        ],
        "new_ci95_ms": [
          10.000000000000002,
          10.000000000000002
        ],
        "old_ci99_ms": [
          10.0,
          10.000000000000004
        ],
        "new_ci99_ms": [
          10.0,
          10.000000000000004
        ],
        "new_times": [
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01
        ],
        "old_times": [
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01
        ]
      }
    ]
  },
  "logs": {
    "full_log_path": "/logs/full.log",
    "config_log_path": "/logs/config.log",
    "build_log_path": "/logs/build.log",
    "test_log_path": "/logs/test.log",
    "build_success": true,
    "test_success": true
  },
  "raw_timing_data": {
    "warmup_runs": 1,
    "measurement_runs": 30,
    "min_exec_time_improvement": 0.05,
    "min_p_value": 0.05
  }
}