{
    "metadata": {
        "collection_date": "2026-01-14T18:37:11.526813",
        "repository": "https://github.com/gabime/spdlog",
        "repository_name": "gabime/spdlog"
    },
    "commit_info": {
        "old_sha": "21524c16fadaab4c5c8b852325685651e3048c57",
        "new_sha": "b4dcd592d85438f328c5b41f1a591a2cfb7cd182",
        "commit_message": [
            "faster reset of cached buffer"
        ],
        "commit_date": "2018-07-09T12:10:24+00:00",
        "patch": [
            "--- include/spdlog/details/pattern_formatter.h\n@@ -29,6 +29,16 @@ class flag_formatter\n public:\n     virtual ~flag_formatter() = default;\n     virtual void format(const details::log_msg &msg, const std::tm &tm_time, fmt::memory_buffer &dest) = 0;\n+\n+protected:\n+    fmt::memory_buffer cached_buf_;\n+    std::tm cached_tm_;\n+    bool from_cache(const std::tm &tm_time, fmt::memory_buffer &dest)\n+    {\n+\n+    }\n+\n+\n };\n \n ///////////////////////////////////////////////////////////////////////\n@@ -460,7 +470,7 @@ class full_formatter SPDLOG_FINAL : public flag_formatter\n         // each second cache the header\n         auto duration = msg.time.time_since_epoch();\n         auto seconds = std::chrono::duration_cast<std::chrono::seconds>(duration).count();\n-        if (true || cached_header_.size() == 0 || cached_seconds_ts_ != seconds)\n+        if (cached_header_.size() == 0 || cached_seconds_ts_ != seconds)\n         {\n             cached_header_.resize(0);\n             cached_header_.push_back('[');"
        ],
        "files_changed": [
            {
                "filename": "include/spdlog/details/pattern_formatter.h",
                "status": "modified",
                "additions": 11,
                "deletions": 1,
                "changes": 12,
                "patch": "@@ -29,6 +29,16 @@ class flag_formatter\n public:\n     virtual ~flag_formatter() = default;\n     virtual void format(const details::log_msg &msg, const std::tm &tm_time, fmt::memory_buffer &dest) = 0;\n+\n+protected:\n+    fmt::memory_buffer cached_buf_;\n+    std::tm cached_tm_;\n+    bool from_cache(const std::tm &tm_time, fmt::memory_buffer &dest)\n+    {\n+\n+    }\n+\n+\n };\n \n ///////////////////////////////////////////////////////////////////////\n@@ -460,7 +470,7 @@ class full_formatter SPDLOG_FINAL : public flag_formatter\n         // each second cache the header\n         auto duration = msg.time.time_since_epoch();\n         auto seconds = std::chrono::duration_cast<std::chrono::seconds>(duration).count();\n-        if (true || cached_header_.size() == 0 || cached_seconds_ts_ != seconds)\n+        if (cached_header_.size() == 0 || cached_seconds_ts_ != seconds)\n         {\n             cached_header_.resize(0);\n             cached_header_.push_back('[');"
            }
        ],
        "lines_added": 11,
        "lines_removed": 1
    },
    "issues": [],
    "pull_requests": [],
    "build_info": {
        "old_build_script": [
            "apt-get update",
            "cmake -S /test_workspace/workspace/old -B /test_workspace/workspace/old/build -DCMAKE_BUILD_TYPE=Debug -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -DSPDLOG_BUILD_TESTING=ON -DBUILD_TESTING=ON",
            "cmake --build /test_workspace/workspace/old/build -- -j 1"
        ],
        "new_build_script": [
            "apt-get update",
            "cmake -S /test_workspace/workspace/new -B /test_workspace/workspace/new/build -DCMAKE_BUILD_TYPE=Debug -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -DSPDLOG_BUILD_TESTING=ON -DBUILD_TESTING=ON",
            "cmake --build /test_workspace/workspace/new/build -- -j 1"
        ],
        "old_test_script": [
            "cd /test_workspace/workspace/old/build",
            "ctest --output-on-failure"
        ],
        "new_test_script": [
            "cd /test_workspace/workspace/new/build",
            "ctest --output-on-failure"
        ],
        "build_system": "cmake"
    },
    "performance_analysis": {
        "is_significant": false,
        "p_value": 1.0,
        "is_pair_significant": false,
        "pair_p_value": 1.0,
        "is_binom_significant": false,
        "binom_p_value": 1.0,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.9999994951223936,
        "is_mannwhitney_significant": false,
        "mannwhitney_p_value": 0.005014361160354997,
        "relative_improvement": 0.003933910306844921,
        "absolute_improvement_ms": 3.3333333333335213,
        "old_mean_ms": 847.3333333333335,
        "new_mean_ms": 844.0,
        "old_std_ms": 4.497764451088041,
        "new_std_ms": 4.982728791224403,
        "effect_size_cohens_d": 0.7022800573215924,
        "old_ci95_ms": [
            845.6538404856047,
            849.0128261810622
        ],
        "new_ci95_ms": [
            842.1394184915555,
            845.8605815084444
        ],
        "old_ci99_ms": [
            845.0698562570052,
            849.5968104096619
        ],
        "new_ci99_ms": [
            841.4924670868949,
            846.5075329131051
        ],
        "new_times_s": [
            0.85,
            0.85,
            0.84,
            0.85,
            0.84,
            0.84,
            0.85,
            0.85,
            0.84,
            0.84,
            0.84,
            0.84,
            0.84,
            0.85,
            0.84,
            0.84,
            0.85,
            0.85,
            0.84,
            0.84,
            0.84,
            0.85,
            0.85,
            0.85,
            0.84,
            0.84,
            0.84,
            0.85,
            0.84,
            0.84,
            0.85
        ],
        "old_times_s": [
            0.85,
            0.85,
            0.85,
            0.85,
            0.84,
            0.84,
            0.85,
            0.84,
            0.84,
            0.85,
            0.85,
            0.85,
            0.85,
            0.85,
            0.85,
            0.85,
            0.85,
            0.84,
            0.85,
            0.84,
            0.85,
            0.84,
            0.85,
            0.85,
            0.85,
            0.85,
            0.85,
            0.85,
            0.84,
            0.85,
            0.85
        ]
    },
    "tests": {
        "total_tests": 1,
        "significant_improvements": 0,
        "significant_improvements_tests": [],
        "significant_regressions": 0,
        "significant_regressions_tests": [],
        "significant_pair_improvements": 0,
        "significant_pair_improvements_tests": [],
        "significant_pair_regressions": 0,
        "significant_pair_regressions_tests": [],
        "significant_binom_improvements": 0,
        "significant_binom_improvements_tests": [],
        "significant_binom_regressions": 0,
        "significant_binom_regressions_tests": [],
        "significant_wilcoxon_improvements": 0,
        "significant_wilcoxon_improvements_tests": [],
        "significant_wilcoxon_regressions": 0,
        "significant_wilcoxon_regressions_tests": [],
        "significant_mannwhitney_improvements": 1,
        "significant_mannwhitney_improvements_tests": [
            "spdlog-utests"
        ],
        "significant_mannwhitney_regressions": 0,
        "significant_mannwhitney_regressions_tests": [],
        "tests": [
            {
                "test_name": "spdlog-utests",
                "is_significant": false,
                "p_value": 1.0,
                "is_pair_significant": false,
                "pair_p_value": 1.0,
                "is_binom_significant": false,
                "binom_p_value": 1.0,
                "is_wilcoxon_significant": false,
                "wilcoxon_p_value": 0.9999992973769745,
                "is_mannwhitney_significant": false,
                "mannwhitney_p_value": 0.02668673411147368,
                "relative_improvement": 0.0028583095140873945,
                "absolute_improvement_ms": 2.4137931034484694,
                "old_mean_ms": 844.4827586206898,
                "new_mean_ms": 842.0689655172413,
                "old_std_ms": 5.061201788784762,
                "new_std_ms": 4.1225082039488585,
                "effect_size_cohens_d": 0.5229437840873249,
                "old_ci95_ms": [
                    842.5575804206692,
                    846.4079368207103
                ],
                "new_ci95_ms": [
                    840.5008472609735,
                    843.6370837735091
                ],
                "old_ci99_ms": [
                    841.88572967481,
                    847.0797875665695
                ],
                "new_ci99_ms": [
                    839.9536036759082,
                    844.1843273585744
                ],
                "new_times": [
                    0.84,
                    0.85,
                    0.84,
                    0.84,
                    0.84,
                    0.84,
                    0.84,
                    0.84,
                    0.84,
                    0.84,
                    0.84,
                    0.85,
                    0.84,
                    0.84,
                    0.84,
                    0.85,
                    0.84,
                    0.84,
                    0.84,
                    0.85,
                    0.85,
                    0.85,
                    0.84,
                    0.84,
                    0.84,
                    0.84,
                    0.84,
                    0.84,
                    0.84
                ],
                "old_times": [
                    0.85,
                    0.85,
                    0.84,
                    0.84,
                    0.84,
                    0.84,
                    0.84,
                    0.85,
                    0.85,
                    0.85,
                    0.85,
                    0.84,
                    0.84,
                    0.84,
                    0.85,
                    0.84,
                    0.84,
                    0.84,
                    0.85,
                    0.84,
                    0.85,
                    0.85,
                    0.84,
                    0.85,
                    0.84,
                    0.85,
                    0.84,
                    0.85,
                    0.84
                ]
            }
        ]
    },
    "logs": {
        "full_log_path": "/logs/full.log",
        "config_log_path": "/logs/config.log",
        "build_log_path": "/logs/build.log",
        "test_log_path": "/logs/test.log",
        "build_success": true,
        "test_success": true
    },
    "raw_timing_data": {
        "warmup_runs": 1,
        "measurement_runs": 30,
        "min_exec_time_improvement": 0.05,
        "min_p_value": 0.05
    }
}