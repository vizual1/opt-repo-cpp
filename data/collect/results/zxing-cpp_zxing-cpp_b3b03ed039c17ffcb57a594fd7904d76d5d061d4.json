{
    "metadata": {
        "collection_date": "2026-01-14T18:39:57.112099",
        "repository": "https://github.com/zxing-cpp/zxing-cpp",
        "repository_name": "zxing-cpp/zxing-cpp"
    },
    "commit_info": {
        "old_sha": "138c8972471c8245d01f170b0db9d85ddce89937",
        "new_sha": "b3b03ed039c17ffcb57a594fd7904d76d5d061d4",
        "commit_message": [
            "QRDetector: add specialized FindPattern() helper for better performance\n\nThis additional fast plausability test for the 1:1:3:1:1 pattern can reduce\nthe false-positive run-time for specific QRCode scenarios by up to 25%. For\nthe average case it is hardly noticeable, though."
        ],
        "commit_date": "2023-03-29T21:59:57+00:00",
        "patch": [
            "--- core/src/qrcode/QRDetector.cpp\n@@ -37,6 +37,16 @@ namespace ZXing::QRCode {\n \n constexpr auto PATTERN = FixedPattern<5, 7>{1, 1, 3, 1, 1};\n \n+PatternView FindPattern(const PatternView& view)\n+{\n+\treturn FindLeftGuard<PATTERN.size()>(view, PATTERN.size(), [](const PatternView& view, int spaceInPixel) {\n+\t\t// perform a fast plausability test for 1:1:3:1:1 pattern\n+\t\tif (view[2] < 2 * std::max(view[0], view[4]) || view[2] < std::max(view[1], view[3]))\n+\t\t\treturn 0.f;\n+\t\treturn IsPattern(view, PATTERN, spaceInPixel, 0.5);\n+\t});\n+}\n+\n std::vector<ConcentricPattern> FindFinderPatterns(const BitMatrix& image, bool tryHarder)\n {\n \tconstexpr int MIN_SKIP         = 3;           // 1 pixel/module times 3 modules/center\n@@ -59,7 +69,7 @@ std::vector<ConcentricPattern> FindFinderPatterns(const BitMatrix& image, bool t\n \t\tGetPatternRow(image, y, row, false);\n \t\tPatternView next = row;\n \n-\t\twhile (next = FindLeftGuard(next, 0, PATTERN, 0.5), next.isValid()) {\n+\t\twhile (next = FindPattern(next), next.isValid()) {\n \t\t\tPointF p(next.pixelsInFront() + next[0] + next[1] + next[2] / 2.0, y + 0.5);\n \n \t\t\t// make sure p is not 'inside' an already found pattern area"
        ],
        "files_changed": [
            {
                "filename": "core/src/qrcode/QRDetector.cpp",
                "status": "modified",
                "additions": 11,
                "deletions": 1,
                "changes": 12,
                "patch": "@@ -37,6 +37,16 @@ namespace ZXing::QRCode {\n \n constexpr auto PATTERN = FixedPattern<5, 7>{1, 1, 3, 1, 1};\n \n+PatternView FindPattern(const PatternView& view)\n+{\n+\treturn FindLeftGuard<PATTERN.size()>(view, PATTERN.size(), [](const PatternView& view, int spaceInPixel) {\n+\t\t// perform a fast plausability test for 1:1:3:1:1 pattern\n+\t\tif (view[2] < 2 * std::max(view[0], view[4]) || view[2] < std::max(view[1], view[3]))\n+\t\t\treturn 0.f;\n+\t\treturn IsPattern(view, PATTERN, spaceInPixel, 0.5);\n+\t});\n+}\n+\n std::vector<ConcentricPattern> FindFinderPatterns(const BitMatrix& image, bool tryHarder)\n {\n \tconstexpr int MIN_SKIP         = 3;           // 1 pixel/module times 3 modules/center\n@@ -59,7 +69,7 @@ std::vector<ConcentricPattern> FindFinderPatterns(const BitMatrix& image, bool t\n \t\tGetPatternRow(image, y, row, false);\n \t\tPatternView next = row;\n \n-\t\twhile (next = FindLeftGuard(next, 0, PATTERN, 0.5), next.isValid()) {\n+\t\twhile (next = FindPattern(next), next.isValid()) {\n \t\t\tPointF p(next.pixelsInFront() + next[0] + next[1] + next[2] / 2.0, y + 0.5);\n \n \t\t\t// make sure p is not 'inside' an already found pattern area"
            }
        ],
        "lines_added": 11,
        "lines_removed": 1
    },
    "issues": [],
    "pull_requests": [],
    "build_info": {
        "old_build_script": [
            "apt-get update",
            "cmake -S /test_workspace/workspace/old -B /test_workspace/workspace/old/build -DCMAKE_BUILD_TYPE=Debug -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -DBUILD_UNIT_TESTS=ON",
            "cmake --build /test_workspace/workspace/old/build -- -j 1"
        ],
        "new_build_script": [
            "apt-get update",
            "cmake -S /test_workspace/workspace/new -B /test_workspace/workspace/new/build -DCMAKE_BUILD_TYPE=Debug -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -DBUILD_UNIT_TESTS=ON",
            "cmake --build /test_workspace/workspace/new/build -- -j 1"
        ],
        "old_test_script": [
            "cd /test_workspace/workspace/old/build",
            "ctest --output-on-failure"
        ],
        "new_test_script": [
            "cd /test_workspace/workspace/new/build",
            "ctest --output-on-failure"
        ],
        "build_system": "cmake"
    },
    "performance_analysis": {
        "is_significant": false,
        "p_value": 1.0,
        "is_pair_significant": false,
        "pair_p_value": 0.9999999999999338,
        "is_binom_significant": false,
        "binom_p_value": 1.0,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.9999991349814353,
        "is_mannwhitney_significant": false,
        "mannwhitney_p_value": 0.17568123625919485,
        "relative_improvement": 0.0016388557806912905,
        "absolute_improvement_ms": 14.666666666665051,
        "old_mean_ms": 8949.333333333334,
        "new_mean_ms": 8934.666666666668,
        "old_std_ms": 156.77643501085439,
        "new_std_ms": 120.53711213688028,
        "effect_size_cohens_d": 0.10488499481111992,
        "old_ci95_ms": [
            8890.792050401224,
            9007.874616265442
        ],
        "new_ci95_ms": [
            8889.657369287657,
            8979.675964045678
        ],
        "old_ci99_ms": [
            8870.436390059725,
            9028.230276606942
        ],
        "new_ci99_ms": [
            8874.006978251318,
            8995.32635508202
        ],
        "new_times_s": [
            8.91,
            8.94,
            9.01,
            8.82,
            8.86,
            8.91,
            8.97,
            8.83,
            8.93,
            8.95,
            9.05,
            8.78,
            8.74,
            8.86,
            9.01,
            9.07,
            9.03,
            9.0,
            8.98,
            8.99,
            9.16,
            9.01,
            8.65,
            8.92,
            8.88,
            8.77,
            9.12,
            8.99,
            8.75,
            9.07,
            8.99
        ],
        "old_times_s": [
            8.66,
            8.69,
            9.07,
            9.14,
            9.13,
            8.88,
            8.49,
            9.03,
            9.13,
            8.97,
            8.9,
            8.91,
            8.83,
            9.04,
            9.06,
            8.96,
            8.6,
            9.06,
            9.11,
            8.87,
            9.02,
            8.96,
            8.72,
            9.03,
            8.98,
            8.91,
            9.01,
            9.08,
            8.88,
            9.04,
            8.98
        ]
    },
    "tests": {
        "total_tests": 2,
        "significant_improvements": 0,
        "significant_improvements_tests": [],
        "significant_regressions": 0,
        "significant_regressions_tests": [],
        "significant_pair_improvements": 0,
        "significant_pair_improvements_tests": [],
        "significant_pair_regressions": 0,
        "significant_pair_regressions_tests": [],
        "significant_binom_improvements": 0,
        "significant_binom_improvements_tests": [],
        "significant_binom_regressions": 0,
        "significant_binom_regressions_tests": [],
        "significant_wilcoxon_improvements": 0,
        "significant_wilcoxon_improvements_tests": [],
        "significant_wilcoxon_regressions": 0,
        "significant_wilcoxon_regressions_tests": [],
        "significant_mannwhitney_improvements": 0,
        "significant_mannwhitney_improvements_tests": [],
        "significant_mannwhitney_regressions": 0,
        "significant_mannwhitney_regressions_tests": [],
        "tests": [
            {
                "test_name": "ZXingWriterTest",
                "is_significant": false,
                "p_value": 1.0,
                "is_pair_significant": false,
                "pair_p_value": 1.0,
                "is_binom_significant": false,
                "binom_p_value": 1.0,
                "is_wilcoxon_significant": false,
                "wilcoxon_p_value": 0.9999999638108507,
                "is_mannwhitney_significant": false,
                "mannwhitney_p_value": 1.0,
                "relative_improvement": 0.0,
                "absolute_improvement_ms": 0.0,
                "old_mean_ms": 10.000000000000002,
                "new_mean_ms": 10.000000000000002,
                "old_std_ms": 1.7654289301252243e-15,
                "new_std_ms": 1.7654289301252243e-15,
                "effect_size_cohens_d": 0.0,
                "old_ci95_ms": [
                    10.000000000000002,
                    10.000000000000002
                ],
                "new_ci95_ms": [
                    10.000000000000002,
                    10.000000000000002
                ],
                "old_ci99_ms": [
                    10.0,
                    10.000000000000004
                ],
                "new_ci99_ms": [
                    10.0,
                    10.000000000000004
                ],
                "new_times": [
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01
                ],
                "old_times": [
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01,
                    0.01
                ]
            },
            {
                "test_name": "UnitTest",
                "is_significant": false,
                "p_value": 1.0,
                "is_pair_significant": false,
                "pair_p_value": 0.9999999999997969,
                "is_binom_significant": false,
                "binom_p_value": 1.0,
                "is_wilcoxon_significant": false,
                "wilcoxon_p_value": 0.999998721045182,
                "is_mannwhitney_significant": false,
                "mannwhitney_p_value": 0.14679513861337723,
                "relative_improvement": 0.0025057825751733896,
                "absolute_improvement_ms": 22.41379310344982,
                "old_mean_ms": 8944.827586206899,
                "new_mean_ms": 8922.41379310345,
                "old_std_ms": 152.86830676050107,
                "new_std_ms": 123.48091733467483,
                "effect_size_cohens_d": 0.16130405055932287,
                "old_ci95_ms": [
                    8886.679592127404,
                    9002.975580286393
                ],
                "new_ci95_ms": [
                    8875.444164131522,
                    8969.383422075374
                ],
                "old_ci99_ms": [
                    8866.387043005405,
                    9023.268129408392
                ],
                "new_ci99_ms": [
                    8859.052652812115,
                    8985.774933394781
                ],
                "new_times": [
                    9.0,
                    8.81,
                    8.85,
                    8.9,
                    8.96,
                    8.82,
                    8.92,
                    8.93,
                    9.04,
                    8.76,
                    8.72,
                    8.85,
                    8.99,
                    9.06,
                    9.02,
                    8.99,
                    8.97,
                    8.98,
                    9.15,
                    9.0,
                    8.64,
                    8.91,
                    8.86,
                    8.76,
                    9.11,
                    8.98,
                    8.74,
                    9.06,
                    8.97
                ],
                "old_times": [
                    9.05,
                    9.13,
                    9.12,
                    8.87,
                    8.47,
                    9.01,
                    9.12,
                    8.96,
                    8.88,
                    8.89,
                    8.82,
                    9.03,
                    9.05,
                    8.95,
                    8.59,
                    9.05,
                    9.1,
                    8.85,
                    9.01,
                    8.95,
                    8.7,
                    9.02,
                    8.97,
                    8.9,
                    8.99,
                    9.06,
                    8.87,
                    9.03,
                    8.96
                ]
            }
        ]
    },
    "logs": {
        "full_log_path": "/logs/full.log",
        "config_log_path": "/logs/config.log",
        "build_log_path": "/logs/build.log",
        "test_log_path": "/logs/test.log",
        "build_success": true,
        "test_success": true
    },
    "raw_timing_data": {
        "warmup_runs": 1,
        "measurement_runs": 30,
        "min_exec_time_improvement": 0.05,
        "min_p_value": 0.05
    }
}