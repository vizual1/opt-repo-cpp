{
  "metadata": {
    "collection_date": "2026-01-14T18:41:16.981705",
    "repository": "https://github.com/google/highway",
    "repository_name": "google/highway"
  },
  "commit_info": {
    "old_sha": "593018276cc498f28422c99034d187f3460d666d",
    "new_sha": "d6c486c5a09be512da1d4611cd77cc5df1688ea5",
    "commit_message": [
      "Reduce branching in ThreadFunc\n\nPreviously we hit CallWithConfig after each task. Now, loop until the config actually changes, which is rare.\n\nAlso rename PoolWorkerMapping fields for clarify/consistency.\n\nPiperOrigin-RevId: 820718055"
    ],
    "commit_date": "2025-10-17T16:19:16+00:00",
    "patch": [
      "--- hwy/contrib/thread_pool/thread_pool.h\n@@ -77,6 +77,8 @@ static inline void SetThreadName(const char* format, int thread) {\n // Whether workers should block or spin.\n enum class PoolWaitMode : uint8_t { kBlock = 1, kSpin };\n \n+enum class Exit : uint32_t { kNone, kLoop, kThread };\n+\n // Upper bound on non-empty `ThreadPool` (single-worker pools do not count).\n // Turin has 16 clusters. Add one for the across-cluster pool.\n HWY_INLINE_VAR constexpr size_t kMaxClusters = 32 + 1;\n@@ -89,29 +91,33 @@ HWY_INLINE_VAR constexpr size_t kAllClusters = kMaxClusters - 1;\n class PoolWorkerMapping {\n  public:\n   // Backward-compatible mode: returns local worker index.\n-  PoolWorkerMapping() : cluster_idx_(0), workers_per_cluster_(0) {}\n-  PoolWorkerMapping(size_t cluster_idx, size_t workers_per_cluster)\n-      : cluster_idx_(cluster_idx), workers_per_cluster_(workers_per_cluster) {\n+  PoolWorkerMapping() : cluster_idx_(0), max_cluster_workers_(0) {}\n+  PoolWorkerMapping(size_t cluster_idx, size_t max_cluster_workers)\n+      : cluster_idx_(cluster_idx), max_cluster_workers_(max_cluster_workers) {\n     HWY_DASSERT(cluster_idx <= kAllClusters);\n     // Only use this ctor for the new global worker index mode. If this were\n     // zero, we would still return local indices.\n-    HWY_DASSERT(workers_per_cluster != 0);\n+    HWY_DASSERT(max_cluster_workers != 0);\n   }\n \n   size_t ClusterIdx() const { return cluster_idx_; }\n+  size_t MaxClusterWorkers() const { return max_cluster_workers_; }\n \n   // Returns global_idx, or unchanged local worker_idx if default-constructed.\n   size_t operator()(size_t worker_idx) const {\n     if (cluster_idx_ == kAllClusters) {\n-      // Main thread, plus the first core of each subsequent cluster.\n-      return worker_idx * workers_per_cluster_ + 0;\n+      const size_t cluster_idx = worker_idx;\n+      HWY_DASSERT(cluster_idx < kAllClusters);\n+      // First index within the N-th cluster. The main thread is the first.\n+      return cluster_idx * max_cluster_workers_;\n     }\n-    return cluster_idx_ * workers_per_cluster_ + worker_idx;\n+    HWY_DASSERT(max_cluster_workers_ == 0 || worker_idx < max_cluster_workers_);\n+    return cluster_idx_ * max_cluster_workers_ + worker_idx;\n   }\n \n  private:\n   size_t cluster_idx_;\n-  size_t workers_per_cluster_;\n+  size_t max_cluster_workers_;\n };\n \n namespace pool {\n@@ -414,10 +420,10 @@ class Stats {\n         Avg(sum_tasks_stolen_, num_run_dynamic_ * num_workers);\n \n     printf(\n-        \"%3zu: static %5d, %.2f tasks; dyn %5d, %.1f tasks, %.2f steals; \"\n+        \"%3zu: static %5d, %.2f tasks; dyn %5d, %4.1f tasks, %.2f steals; \"\n         \"wake %7.3f ns, latency %6.3f < %7.3f us, barrier %7.3f us; \"\n         \"func: static %6.3f + dyn %7.3f = %.1f%% of total run %7.3f s, \"\n-        \"%.1f%% of thread time %6.3f s; main run share %5.1f%%\\n\",\n+        \"%.1f%% of thread time %7.3f s; main run share %5.1f%%\\n\",\n         num_threads, static_cast<int>(num_run_static_), avg_tasks_static,\n         static_cast<int>(num_run_dynamic_), avg_tasks_dynamic, avg_steals,\n         ns(per_run(Seconds(sum_d_wake_))),\n@@ -608,8 +614,8 @@ class alignas(HWY_ALIGNMENT) Worker {  // HWY_ALIGNMENT bytes\n   // avoids a separate `ThreadPool` member which risks going out of sync.\n   void SetNextConfig(Config copy) { next_config_ = copy; }\n \n-  uint32_t GetExit() const { return exit_; }\n-  void SetExit(uint32_t exit) { exit_ = exit; }\n+  Exit GetExit() const { return exit_; }\n+  void SetExit(Exit exit) { exit_ = exit; }\n \n   uint32_t WorkerEpoch() const { return worker_epoch_; }\n   uint32_t AdvanceWorkerEpoch() { return ++worker_epoch_; }\n@@ -678,7 +684,7 @@ class alignas(HWY_ALIGNMENT) Worker {  // HWY_ALIGNMENT bytes\n \n   // Written and read by the same thread, hence not atomic.\n   Config next_config_;\n-  uint32_t exit_ = 0;\n+  Exit exit_ = Exit::kNone;\n   // thread_pool_test requires nonzero epoch.\n   uint32_t worker_epoch_ = 1;\n \n@@ -1099,7 +1105,7 @@ class alignas(HWY_ALIGNMENT) ThreadPool {\n     (void)RunWithoutAutotune(\n         0, NumWorkers(), [this](HWY_MAYBE_UNUSED uint64_t task, size_t worker) {\n           HWY_DASSERT(task == worker);\n-          workers_[worker].SetExit(1);\n+          workers_[worker].SetExit(Exit::kThread);\n         });\n \n     for (std::thread& thread : threads_) {\n@@ -1245,14 +1251,28 @@ class alignas(HWY_ALIGNMENT) ThreadPool {\n   // Called by `std::thread`. Could also be a lambda, but annotating with\n   // `HWY_POOL_PROFILE` makes it easier to inspect the generated code.\n   class ThreadFunc {\n-    // Functor called by `CallWithConfig`.\n-    // TODO: loop until config changes.\n-    struct WorkerWait {\n+    // Functor called by `CallWithConfig`. Loops until `SendConfig` changes the\n+    // Spin or Wait policy or the pool is destroyed.\n+    struct WorkerLoop {\n       template <class Spin, class Wait>\n-      void operator()(const Spin& spin, const Wait& wait,\n-                      pool::Worker& worker) const {\n-        // TODO: log number of spin-wait iterations.\n-        (void)wait.UntilWoken(worker, spin);\n+      void operator()(const Spin& spin, const Wait& wait, pool::Worker& worker,\n+                      pool::Tasks& tasks, pool::Shared& shared) const {\n+        do {\n+          // Main worker also calls this, so their epochs match.\n+          const uint32_t epoch = worker.AdvanceWorkerEpoch();\n+\n+          // TODO: log number of spin-wait iterations.\n+          (void)wait.UntilWoken(worker, spin);\n+\n+          Stopwatch stopwatch = worker.MakeStopwatch();\n+          tasks.WorkerRun(&worker);\n+          shared.stats.NotifyThreadRun(worker.Index(), stopwatch);\n+\n+          // Notify barrier after `WorkerRun`. Note that we cannot send an\n+          // after-barrier timestamp, see above.\n+          pool::Barrier().WorkerReached(worker, epoch);\n+          // Check after `WorkerReached`, otherwise the main thread deadlocks.\n+        } while (worker.GetExit() == Exit::kNone);\n       }\n     };\n \n@@ -1275,23 +1295,15 @@ class alignas(HWY_ALIGNMENT) ThreadPool {\n       // be counted. Instead, `ProfilerFunc` records the elapsed time.\n \n       // Loop termination via `GetExit` is triggered by `~ThreadPool`.\n-      do {\n-        // Main worker also calls this, so their epochs match.\n-        const uint32_t epoch = worker_.AdvanceWorkerEpoch();\n+      for (;;) {\n         // Uses the initial config, or the last one set during WorkerRun.\n-        CallWithConfig(worker_.NextConfig(), WorkerWait(), worker_);\n-\n-        Stopwatch stopwatch = worker_.MakeStopwatch();\n-        tasks_.WorkerRun(&worker_);\n-        shared_.stats.NotifyThreadRun(worker_.Index(), stopwatch);\n+        CallWithConfig(worker_.NextConfig(), WorkerLoop(), worker_, tasks_,\n+                       shared_);\n \n-        // Notify barrier after `WorkerRun`. Note that we cannot send an\n-        // after-barrier timestamp, see above.\n-        pool::Barrier().WorkerReached(worker_, epoch);\n-\n-        // Check after notifying the barrier, otherwise the main thread\n-        // deadlocks.\n-      } while (!worker_.GetExit());\n+        // Exit or reset the flag and return to WorkerLoop with a new config.\n+        if (worker_.GetExit() == Exit::kThread) break;\n+        worker_.SetExit(Exit::kNone);\n+      }\n \n       worker_.GetProfiler().SetGlobalIdx(~size_t{0});\n \n@@ -1376,6 +1388,7 @@ class alignas(HWY_ALIGNMENT) ThreadPool {\n         [this, next_config](HWY_MAYBE_UNUSED uint64_t task, size_t worker) {\n           HWY_DASSERT(task == worker);  // one task per worker\n           workers_[worker].SetNextConfig(next_config);\n+          workers_[worker].SetExit(Exit::kLoop);\n         });\n \n     // All have woken and are, or will be, waiting per `next_config`. Now we"
    ],
    "files_changed": [
      {
        "filename": "hwy/contrib/thread_pool/thread_pool.h",
        "status": "modified",
        "additions": 49,
        "deletions": 36,
        "changes": 85,
        "patch": "@@ -77,6 +77,8 @@ static inline void SetThreadName(const char* format, int thread) {\n // Whether workers should block or spin.\n enum class PoolWaitMode : uint8_t { kBlock = 1, kSpin };\n \n+enum class Exit : uint32_t { kNone, kLoop, kThread };\n+\n // Upper bound on non-empty `ThreadPool` (single-worker pools do not count).\n // Turin has 16 clusters. Add one for the across-cluster pool.\n HWY_INLINE_VAR constexpr size_t kMaxClusters = 32 + 1;\n@@ -89,29 +91,33 @@ HWY_INLINE_VAR constexpr size_t kAllClusters = kMaxClusters - 1;\n class PoolWorkerMapping {\n  public:\n   // Backward-compatible mode: returns local worker index.\n-  PoolWorkerMapping() : cluster_idx_(0), workers_per_cluster_(0) {}\n-  PoolWorkerMapping(size_t cluster_idx, size_t workers_per_cluster)\n-      : cluster_idx_(cluster_idx), workers_per_cluster_(workers_per_cluster) {\n+  PoolWorkerMapping() : cluster_idx_(0), max_cluster_workers_(0) {}\n+  PoolWorkerMapping(size_t cluster_idx, size_t max_cluster_workers)\n+      : cluster_idx_(cluster_idx), max_cluster_workers_(max_cluster_workers) {\n     HWY_DASSERT(cluster_idx <= kAllClusters);\n     // Only use this ctor for the new global worker index mode. If this were\n     // zero, we would still return local indices.\n-    HWY_DASSERT(workers_per_cluster != 0);\n+    HWY_DASSERT(max_cluster_workers != 0);\n   }\n \n   size_t ClusterIdx() const { return cluster_idx_; }\n+  size_t MaxClusterWorkers() const { return max_cluster_workers_; }\n \n   // Returns global_idx, or unchanged local worker_idx if default-constructed.\n   size_t operator()(size_t worker_idx) const {\n     if (cluster_idx_ == kAllClusters) {\n-      // Main thread, plus the first core of each subsequent cluster.\n-      return worker_idx * workers_per_cluster_ + 0;\n+      const size_t cluster_idx = worker_idx;\n+      HWY_DASSERT(cluster_idx < kAllClusters);\n+      // First index within the N-th cluster. The main thread is the first.\n+      return cluster_idx * max_cluster_workers_;\n     }\n-    return cluster_idx_ * workers_per_cluster_ + worker_idx;\n+    HWY_DASSERT(max_cluster_workers_ == 0 || worker_idx < max_cluster_workers_);\n+    return cluster_idx_ * max_cluster_workers_ + worker_idx;\n   }\n \n  private:\n   size_t cluster_idx_;\n-  size_t workers_per_cluster_;\n+  size_t max_cluster_workers_;\n };\n \n namespace pool {\n@@ -414,10 +420,10 @@ class Stats {\n         Avg(sum_tasks_stolen_, num_run_dynamic_ * num_workers);\n \n     printf(\n-        \"%3zu: static %5d, %.2f tasks; dyn %5d, %.1f tasks, %.2f steals; \"\n+        \"%3zu: static %5d, %.2f tasks; dyn %5d, %4.1f tasks, %.2f steals; \"\n         \"wake %7.3f ns, latency %6.3f < %7.3f us, barrier %7.3f us; \"\n         \"func: static %6.3f + dyn %7.3f = %.1f%% of total run %7.3f s, \"\n-        \"%.1f%% of thread time %6.3f s; main run share %5.1f%%\\n\",\n+        \"%.1f%% of thread time %7.3f s; main run share %5.1f%%\\n\",\n         num_threads, static_cast<int>(num_run_static_), avg_tasks_static,\n         static_cast<int>(num_run_dynamic_), avg_tasks_dynamic, avg_steals,\n         ns(per_run(Seconds(sum_d_wake_))),\n@@ -608,8 +614,8 @@ class alignas(HWY_ALIGNMENT) Worker {  // HWY_ALIGNMENT bytes\n   // avoids a separate `ThreadPool` member which risks going out of sync.\n   void SetNextConfig(Config copy) { next_config_ = copy; }\n \n-  uint32_t GetExit() const { return exit_; }\n-  void SetExit(uint32_t exit) { exit_ = exit; }\n+  Exit GetExit() const { return exit_; }\n+  void SetExit(Exit exit) { exit_ = exit; }\n \n   uint32_t WorkerEpoch() const { return worker_epoch_; }\n   uint32_t AdvanceWorkerEpoch() { return ++worker_epoch_; }\n@@ -678,7 +684,7 @@ class alignas(HWY_ALIGNMENT) Worker {  // HWY_ALIGNMENT bytes\n \n   // Written and read by the same thread, hence not atomic.\n   Config next_config_;\n-  uint32_t exit_ = 0;\n+  Exit exit_ = Exit::kNone;\n   // thread_pool_test requires nonzero epoch.\n   uint32_t worker_epoch_ = 1;\n \n@@ -1099,7 +1105,7 @@ class alignas(HWY_ALIGNMENT) ThreadPool {\n     (void)RunWithoutAutotune(\n         0, NumWorkers(), [this](HWY_MAYBE_UNUSED uint64_t task, size_t worker) {\n           HWY_DASSERT(task == worker);\n-          workers_[worker].SetExit(1);\n+          workers_[worker].SetExit(Exit::kThread);\n         });\n \n     for (std::thread& thread : threads_) {\n@@ -1245,14 +1251,28 @@ class alignas(HWY_ALIGNMENT) ThreadPool {\n   // Called by `std::thread`. Could also be a lambda, but annotating with\n   // `HWY_POOL_PROFILE` makes it easier to inspect the generated code.\n   class ThreadFunc {\n-    // Functor called by `CallWithConfig`.\n-    // TODO: loop until config changes.\n-    struct WorkerWait {\n+    // Functor called by `CallWithConfig`. Loops until `SendConfig` changes the\n+    // Spin or Wait policy or the pool is destroyed.\n+    struct WorkerLoop {\n       template <class Spin, class Wait>\n-      void operator()(const Spin& spin, const Wait& wait,\n-                      pool::Worker& worker) const {\n-        // TODO: log number of spin-wait iterations.\n-        (void)wait.UntilWoken(worker, spin);\n+      void operator()(const Spin& spin, const Wait& wait, pool::Worker& worker,\n+                      pool::Tasks& tasks, pool::Shared& shared) const {\n+        do {\n+          // Main worker also calls this, so their epochs match.\n+          const uint32_t epoch = worker.AdvanceWorkerEpoch();\n+\n+          // TODO: log number of spin-wait iterations.\n+          (void)wait.UntilWoken(worker, spin);\n+\n+          Stopwatch stopwatch = worker.MakeStopwatch();\n+          tasks.WorkerRun(&worker);\n+          shared.stats.NotifyThreadRun(worker.Index(), stopwatch);\n+\n+          // Notify barrier after `WorkerRun`. Note that we cannot send an\n+          // after-barrier timestamp, see above.\n+          pool::Barrier().WorkerReached(worker, epoch);\n+          // Check after `WorkerReached`, otherwise the main thread deadlocks.\n+        } while (worker.GetExit() == Exit::kNone);\n       }\n     };\n \n@@ -1275,23 +1295,15 @@ class alignas(HWY_ALIGNMENT) ThreadPool {\n       // be counted. Instead, `ProfilerFunc` records the elapsed time.\n \n       // Loop termination via `GetExit` is triggered by `~ThreadPool`.\n-      do {\n-        // Main worker also calls this, so their epochs match.\n-        const uint32_t epoch = worker_.AdvanceWorkerEpoch();\n+      for (;;) {\n         // Uses the initial config, or the last one set during WorkerRun.\n-        CallWithConfig(worker_.NextConfig(), WorkerWait(), worker_);\n-\n-        Stopwatch stopwatch = worker_.MakeStopwatch();\n-        tasks_.WorkerRun(&worker_);\n-        shared_.stats.NotifyThreadRun(worker_.Index(), stopwatch);\n+        CallWithConfig(worker_.NextConfig(), WorkerLoop(), worker_, tasks_,\n+                       shared_);\n \n-        // Notify barrier after `WorkerRun`. Note that we cannot send an\n-        // after-barrier timestamp, see above.\n-        pool::Barrier().WorkerReached(worker_, epoch);\n-\n-        // Check after notifying the barrier, otherwise the main thread\n-        // deadlocks.\n-      } while (!worker_.GetExit());\n+        // Exit or reset the flag and return to WorkerLoop with a new config.\n+        if (worker_.GetExit() == Exit::kThread) break;\n+        worker_.SetExit(Exit::kNone);\n+      }\n \n       worker_.GetProfiler().SetGlobalIdx(~size_t{0});\n \n@@ -1376,6 +1388,7 @@ class alignas(HWY_ALIGNMENT) ThreadPool {\n         [this, next_config](HWY_MAYBE_UNUSED uint64_t task, size_t worker) {\n           HWY_DASSERT(task == worker);  // one task per worker\n           workers_[worker].SetNextConfig(next_config);\n+          workers_[worker].SetExit(Exit::kLoop);\n         });\n \n     // All have woken and are, or will be, waiting per `next_config`. Now we"
      }
    ],
    "lines_added": 49,
    "lines_removed": 36
  },
  "issues": [],
  "pull_requests": [],
  "build_info": {
    "old_build_script": "#!/bin/bash\n#!/bin/bash\ncmake -S /test_workspace/workspace/old -B /test_workspace/workspace/old/build -DCMAKE_BUILD_TYPE=Debug -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -DBUILD_TESTING=ON -DHWY_ENABLE_TESTS=ON",
    "new_build_script": "#!/bin/bash\n#!/bin/bash\ncmake -S /test_workspace/workspace/new -B /test_workspace/workspace/new/build -DCMAKE_BUILD_TYPE=Debug -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -DBUILD_TESTING=ON -DHWY_ENABLE_TESTS=ON",
    "old_test_script": "#!/bin/bash\ncmake --build /test_workspace/workspace/old/build -- -j 1",
    "new_test_script": "#!/bin/bash\ncmake --build /test_workspace/workspace/new/build -- -j 1",
    "build_system": "cmake"
  },
  "performance_analysis": {
    "is_significant": false,
    "p_value": 0.9999999999982018,
    "is_pair_significant": false,
    "pair_p_value": 1.0,
    "is_binom_significant": false,
    "binom_p_value": 1.0,
    "is_wilcoxon_significant": false,
    "wilcoxon_p_value": 1.0,
    "is_mannwhitney_significant": false,
    "mannwhitney_p_value": 0.08117875731955682,
    "relative_improvement": 0.005912154642020704,
    "absolute_improvement_ms": 221.33333333333383,
    "old_mean_ms": 37437.00000000001,
    "new_mean_ms": 37215.66666666667,
    "old_std_ms": 781.9522430077345,
    "new_std_ms": 719.725442542973,
    "effect_size_cohens_d": 0.2945286482223249,
    "old_ci95_ms": [
      37145.014233809154,
      37728.98576619085
    ],
    "new_ci95_ms": [
      36946.916769640186,
      37484.41656369316
    ],
    "old_ci99_ms": [
      37043.48651211529,
      37830.51348788472
    ],
    "new_ci99_ms": [
      36853.468499518945,
      37577.8648338144
    ],
    "new_times_s": [
      35.2,
      35.27,
      36.08,
      35.79,
      35.87,
      36.92,
      36.68,
      37.45,
      36.86,
      37.56,
      37.53,
      36.97,
      37.01,
      37.18,
      37.48,
      37.02,
      36.78,
      36.95,
      37.62,
      37.57,
      38.02,
      38.17,
      37.44,
      37.99,
      37.94,
      37.64,
      37.52,
      37.92,
      37.48,
      37.64,
      38.12
    ],
    "old_times_s": [
      35.6,
      35.83,
      36.11,
      36.37,
      35.88,
      37.91,
      36.13,
      36.72,
      37.25,
      37.86,
      37.73,
      37.76,
      37.15,
      37.85,
      37.05,
      36.99,
      37.34,
      36.88,
      38.22,
      38.31,
      37.8,
      37.37,
      38.22,
      38.42,
      38.6,
      38.08,
      37.98,
      37.66,
      37.47,
      38.16,
      38.01
    ]
  },
  "tests": {
    "total_tests": 8,
    "significant_improvements": 0,
    "significant_improvements_tests": [],
    "significant_regressions": 0,
    "significant_regressions_tests": [],
    "significant_pair_improvements": 0,
    "significant_pair_improvements_tests": [],
    "significant_pair_regressions": 0,
    "significant_pair_regressions_tests": [],
    "significant_binom_improvements": 0,
    "significant_binom_improvements_tests": [],
    "significant_binom_regressions": 0,
    "significant_binom_regressions_tests": [],
    "significant_wilcoxon_improvements": 0,
    "significant_wilcoxon_improvements_tests": [],
    "significant_wilcoxon_regressions": 0,
    "significant_wilcoxon_regressions_tests": [],
    "significant_mannwhitney_improvements": 0,
    "significant_mannwhitney_improvements_tests": [],
    "significant_mannwhitney_regressions": 0,
    "significant_mannwhitney_regressions_tests": [],
    "tests": [
      {
        "test_name": "NanobenchmarkTest.RunTest",
        "is_significant": false,
        "p_value": 0.9927838636864341,
        "is_pair_significant": false,
        "pair_p_value": 0.9899777677577667,
        "is_binom_significant": false,
        "binom_p_value": 0.9692858271300793,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.9937704569577882,
        "is_mannwhitney_significant": false,
        "mannwhitney_p_value": 0.7932290316837938,
        "relative_improvement": -0.04604691572545607,
        "absolute_improvement_ms": -18.275862068965587,
        "old_mean_ms": 396.89655172413796,
        "new_mean_ms": 415.17241379310354,
        "old_std_ms": 52.58350150514772,
        "new_std_ms": 63.95426321404407,
        "effect_size_cohens_d": -0.31216461917118626,
        "old_ci95_ms": [
          376.8948574619599,
          416.89824598631606
        ],
        "new_ci95_ms": [
          390.84551309317686,
          439.4993144930302
        ],
        "old_ci99_ms": [
          369.9146448206849,
          423.87845862759104
        ],
        "new_ci99_ms": [
          382.35588528650834,
          447.98894229969875
        ],
        "new_times": [
          0.49,
          0.49,
          0.44,
          0.4,
          0.32,
          0.47,
          0.39,
          0.42,
          0.58,
          0.41,
          0.36,
          0.39,
          0.34,
          0.39,
          0.38,
          0.37,
          0.37,
          0.42,
          0.52,
          0.39,
          0.34,
          0.37,
          0.52,
          0.43,
          0.32,
          0.48,
          0.4,
          0.46,
          0.38
        ],
        "old_times": [
          0.45,
          0.48,
          0.42,
          0.41,
          0.35,
          0.33,
          0.44,
          0.33,
          0.35,
          0.44,
          0.39,
          0.36,
          0.31,
          0.37,
          0.43,
          0.35,
          0.41,
          0.38,
          0.29,
          0.36,
          0.4,
          0.51,
          0.47,
          0.4,
          0.46,
          0.43,
          0.38,
          0.4,
          0.41
        ]
      },
      {
        "test_name": "AutoTuneTest.TestCostDistribution",
        "is_significant": false,
        "p_value": 0.999999999999986,
        "is_pair_significant": false,
        "pair_p_value": 0.9999999999827248,
        "is_binom_significant": false,
        "binom_p_value": 0.9999999981373549,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.9999998637092934,
        "is_mannwhitney_significant": false,
        "mannwhitney_p_value": 0.7215894067470269,
        "relative_improvement": -0.002881844380403525,
        "absolute_improvement_ms": -0.3448275862068806,
        "old_mean_ms": 119.65517241379312,
        "new_mean_ms": 120.00000000000001,
        "old_std_ms": 1.8569533817705177,
        "new_std_ms": 2.6726124191242446,
        "effect_size_cohens_d": -0.1498462189526332,
        "old_ci95_ms": [
          118.94882512351892,
          120.36151970406735
        ],
        "new_ci95_ms": [
          118.98339260493351,
          121.0166073950665
        ],
        "old_ci99_ms": [
          118.70232329122035,
          120.60802153636591
        ],
        "new_ci99_ms": [
          118.62861586966089,
          121.37138413033912
        ],
        "new_times": [
          0.13,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.11,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12
        ],
        "old_times": [
          0.12,
          0.11,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12,
          0.12
        ]
      },
      {
        "test_name": "SpinTest.TestPingPong",
        "is_significant": false,
        "p_value": 0.999991851911293,
        "is_pair_significant": false,
        "pair_p_value": 0.9999999999991781,
        "is_binom_significant": false,
        "binom_p_value": 0.9999999981373549,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.9999978486102682,
        "is_mannwhitney_significant": false,
        "mannwhitney_p_value": 0.36537939133487474,
        "relative_improvement": 0.003861003861003779,
        "absolute_improvement_ms": 0.34482758620689447,
        "old_mean_ms": 89.31034482758618,
        "new_mean_ms": 88.96551724137929,
        "old_std_ms": 3.7139067635410368,
        "new_std_ms": 3.0993404669460336,
        "effect_size_cohens_d": 0.10081338890712875,
        "old_ci95_ms": [
          87.89765024703773,
          90.72303940813462
        ],
        "new_ci95_ms": [
          87.78659117788422,
          90.14444330487436
        ],
        "old_ci99_ms": [
          87.4046465824406,
          91.21604307273175
        ],
        "new_ci99_ms": [
          87.3751683002184,
          90.55586618254016
        ],
        "new_times": [
          0.08,
          0.08,
          0.08,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09
        ],
        "old_times": [
          0.08,
          0.08,
          0.08,
          0.09,
          0.09,
          0.1,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09,
          0.09
        ]
      },
      {
        "test_name": "ThreadPoolTest.TestPool",
        "is_significant": false,
        "p_value": 0.06473360347768212,
        "is_pair_significant": false,
        "pair_p_value": 0.05952878697833992,
        "is_binom_significant": false,
        "binom_p_value": 0.22912915982306004,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.08825036324762675,
        "is_mannwhitney_significant": false,
        "mannwhitney_p_value": 0.0626604951758601,
        "relative_improvement": 0.28929142248268513,
        "absolute_improvement_ms": 187.24137931034485,
        "old_mean_ms": 647.2413793103449,
        "new_mean_ms": 460.0,
        "old_std_ms": 453.58017523857694,
        "new_std_ms": 327.7956680616753,
        "effect_size_cohens_d": 0.4731690938596561,
        "old_ci95_ms": [
          474.70870786740136,
          819.7740507532884
        ],
        "new_ci95_ms": [
          335.31319624285214,
          584.6868037571479
        ],
        "old_ci99_ms": [
          414.4980717856239,
          879.9846868350658
        ],
        "new_ci99_ms": [
          291.7998622033664,
          628.2001377966336
        ],
        "new_times": [
          0.02,
          0.02,
          0.02,
          0.16,
          0.5,
          1.03,
          0.39,
          0.67,
          0.54,
          0.11,
          0.29,
          0.25,
          1.01,
          0.46,
          0.33,
          0.3,
          0.93,
          0.28,
          0.96,
          0.92,
          0.24,
          0.62,
          0.64,
          0.32,
          0.28,
          0.6,
          0.34,
          0.06,
          1.05
        ],
        "old_times": [
          0.02,
          0.02,
          0.02,
          1.76,
          0.06,
          0.52,
          0.43,
          1.02,
          0.78,
          0.77,
          0.83,
          1.01,
          0.43,
          0.1,
          0.62,
          0.47,
          1.37,
          1.35,
          0.87,
          0.14,
          0.66,
          0.68,
          1.24,
          0.44,
          0.81,
          0.47,
          0.09,
          0.83,
          0.96
        ]
      },
      {
        "test_name": "ThreadPoolTest.TestWaitMode",
        "is_significant": false,
        "p_value": 0.8808325302158377,
        "is_pair_significant": false,
        "pair_p_value": 0.99972719958432,
        "is_binom_significant": false,
        "binom_p_value": 0.9997269436717033,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.9994744689223433,
        "is_mannwhitney_significant": false,
        "mannwhitney_p_value": 0.6879816345758296,
        "relative_improvement": -0.007471049682480362,
        "absolute_improvement_ms": -13.793103448275668,
        "old_mean_ms": 1846.2068965517242,
        "new_mean_ms": 1859.9999999999998,
        "old_std_ms": 355.3209192617635,
        "new_std_ms": 340.40941736175785,
        "effect_size_cohens_d": -0.039641613300773655,
        "old_ci95_ms": [
          1711.0500471864511,
          1981.3637459169972
        ],
        "new_ci95_ms": [
          1730.5151826116123,
          1989.4848173883875
        ],
        "old_ci99_ms": [
          1663.8828654403362,
          2028.5309276631124
        ],
        "new_ci99_ms": [
          1685.3274326470155,
          2034.6725673529843
        ],
        "new_times": [
          1.01,
          0.96,
          0.98,
          1.89,
          1.81,
          1.87,
          1.97,
          2.23,
          2.17,
          2.05,
          1.91,
          1.99,
          1.8,
          1.93,
          1.55,
          1.8,
          1.74,
          2.05,
          1.99,
          2.27,
          1.99,
          2.24,
          2.06,
          2.1,
          1.92,
          1.9,
          1.87,
          2.02,
          1.87
        ],
        "old_times": [
          0.94,
          1.14,
          0.85,
          1.67,
          1.75,
          1.81,
          2.03,
          2.22,
          2.22,
          2.05,
          1.54,
          1.98,
          1.85,
          2.02,
          1.85,
          1.74,
          1.85,
          1.93,
          1.97,
          2.19,
          2.24,
          2.17,
          2.03,
          2.3,
          1.81,
          1.89,
          1.97,
          1.74,
          1.79
        ]
      },
      {
        "test_name": "ThreadPoolTest.TestCounter",
        "is_significant": false,
        "p_value": 0.8952247301954949,
        "is_pair_significant": false,
        "pair_p_value": 0.9773577266640938,
        "is_binom_significant": false,
        "binom_p_value": 0.9821509309113026,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.9887764413052101,
        "is_mannwhitney_significant": false,
        "mannwhitney_p_value": 0.6750296483651765,
        "relative_improvement": -0.027118644067796634,
        "absolute_improvement_ms": -5.517241379310339,
        "old_mean_ms": 203.448275862069,
        "new_mean_ms": 208.96551724137936,
        "old_std_ms": 48.71754319316939,
        "new_std_ms": 47.8348966749326,
        "effect_size_cohens_d": -0.11428009204339135,
        "old_ci95_ms": [
          184.91711349626812,
          221.9794382278699
        ],
        "new_ci95_ms": [
          190.77009565536696,
          227.16093882739173
        ],
        "old_ci99_ms": [
          178.4500886478842,
          228.44646307625382
        ],
        "new_ci99_ms": [
          184.42023798315086,
          233.51079649960784
        ],
        "new_times": [
          0.13,
          0.08,
          0.1,
          0.23,
          0.22,
          0.27,
          0.19,
          0.27,
          0.19,
          0.22,
          0.19,
          0.24,
          0.23,
          0.23,
          0.22,
          0.19,
          0.27,
          0.3,
          0.2,
          0.18,
          0.19,
          0.23,
          0.21,
          0.2,
          0.24,
          0.23,
          0.24,
          0.2,
          0.17
        ],
        "old_times": [
          0.12,
          0.09,
          0.09,
          0.24,
          0.19,
          0.17,
          0.25,
          0.25,
          0.22,
          0.24,
          0.2,
          0.18,
          0.2,
          0.24,
          0.19,
          0.17,
          0.27,
          0.24,
          0.19,
          0.17,
          0.27,
          0.25,
          0.28,
          0.24,
          0.19,
          0.2,
          0.19,
          0.18,
          0.19
        ]
      },
      {
        "test_name": "TopologyTest.TestTopology",
        "is_significant": false,
        "p_value": 1.0,
        "is_pair_significant": false,
        "pair_p_value": 1.0,
        "is_binom_significant": false,
        "binom_p_value": 1.0,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.9999999638108507,
        "is_mannwhitney_significant": false,
        "mannwhitney_p_value": 1.0,
        "relative_improvement": 0.0,
        "absolute_improvement_ms": 0.0,
        "old_mean_ms": 10.000000000000002,
        "new_mean_ms": 10.000000000000002,
        "old_std_ms": 1.7654289301252243e-15,
        "new_std_ms": 1.7654289301252243e-15,
        "effect_size_cohens_d": 0.0,
        "old_ci95_ms": [
          10.000000000000002,
          10.000000000000002
        ],
        "new_ci95_ms": [
          10.000000000000002,
          10.000000000000002
        ],
        "old_ci99_ms": [
          10.0,
          10.000000000000004
        ],
        "new_ci99_ms": [
          10.0,
          10.000000000000004
        ],
        "new_times": [
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01
        ],
        "old_times": [
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01
        ]
      },
      {
        "test_name": "TopologyTest.TestCaches",
        "is_significant": false,
        "p_value": 1.0,
        "is_pair_significant": false,
        "pair_p_value": 1.0,
        "is_binom_significant": false,
        "binom_p_value": 1.0,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.9999999638108507,
        "is_mannwhitney_significant": false,
        "mannwhitney_p_value": 1.0,
        "relative_improvement": 0.0,
        "absolute_improvement_ms": 0.0,
        "old_mean_ms": 10.000000000000002,
        "new_mean_ms": 10.000000000000002,
        "old_std_ms": 1.7654289301252243e-15,
        "new_std_ms": 1.7654289301252243e-15,
        "effect_size_cohens_d": 0.0,
        "old_ci95_ms": [
          10.000000000000002,
          10.000000000000002
        ],
        "new_ci95_ms": [
          10.000000000000002,
          10.000000000000002
        ],
        "old_ci99_ms": [
          10.0,
          10.000000000000004
        ],
        "new_ci99_ms": [
          10.0,
          10.000000000000004
        ],
        "new_times": [
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01
        ],
        "old_times": [
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01
        ]
      }
    ]
  },
  "logs": {
    "full_log_path": "/logs/full.log",
    "config_log_path": "/logs/config.log",
    "build_log_path": "/logs/build.log",
    "test_log_path": "/logs/test.log",
    "build_success": true,
    "test_success": true
  },
  "raw_timing_data": {
    "warmup_runs": 1,
    "measurement_runs": 30,
    "min_exec_time_improvement": 0.05,
    "min_p_value": 0.05
  }
}