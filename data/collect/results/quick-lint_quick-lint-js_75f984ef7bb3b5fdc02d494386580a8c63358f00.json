{
    "metadata": {
        "collection_date": "2026-01-14T18:38:07.958824",
        "repository": "https://github.com/quick-lint/quick-lint-js",
        "repository_name": "quick-lint/quick-lint-js"
    },
    "commit_info": {
        "old_sha": "20fd9496925902d0d15f13bfbd4c059b61690e59",
        "new_sha": "75f984ef7bb3b5fdc02d494386580a8c63358f00",
        "commit_message": [
            "perf(container): optimize vector_instrumentation\n\nmax_size_histogram_by_owner is performing a lot of string copies, making\nit slow. Optimize it by performing char comparisons instead. For a given\nobject, its owner pointer should be the same across time, so this should\nbe safe.\n\n    Benchmark                                                           Time             CPU      Time Old      Time New       CPU Old       CPU New\n    ------------------------------------------------------------------------------------------------------------------------------------------------\n    benchmark_max_size_histogram_by_owner/tons                       -0.7225         -0.7225       5346165       1483356       5341705       1482371\n    benchmark_max_size_histogram_by_owner/tons                       -0.7187         -0.7187       5287029       1487440       5282438       1486123\n    benchmark_max_size_histogram_by_owner/tons                       -0.7224         -0.7225       5338131       1481791       5335476       1480676\n    benchmark_max_size_histogram_by_owner/tons_pvalue                 0.1000          0.1000      U Test, Repetitions: 3 vs 3. WARNING: Results unreliable! 9+ repetitions recommended.\n    benchmark_max_size_histogram_by_owner/tons_mean                  -0.7212         -0.7212       5323775       1484196       5319873       1483057\n    benchmark_max_size_histogram_by_owner/tons_median                -0.7221         -0.7222       5338131       1483356       5335476       1482371\n    benchmark_max_size_histogram_by_owner/tons_stddev                -0.9091         -0.9144         32075          2917         32569          2788\n    benchmark_max_size_histogram_by_owner/tons_cv                    -0.6738         -0.6930             0             0             0             0\n    OVERALL_GEOMEAN                                                  -0.7212         -0.7212             0             0             0             0"
        ],
        "commit_date": "2022-10-19T10:04:05+00:00",
        "patch": [
            "--- src/quick-lint-js/container/vector-profiler-debug.cpp\n@@ -73,7 +73,7 @@ std::map<std::string, std::map<std::size_t, int>>\n vector_instrumentation::max_size_histogram_by_owner() const {\n   std::lock_guard lock(this->mutex_);\n   std::map<std::string, std::map<std::size_t, int>> histogram;\n-  std::map<std::pair<std::string, std::uintptr_t>, std::size_t> object_sizes;\n+  std::map<std::pair<const char *, std::uintptr_t>, std::size_t> object_sizes;\n   for (const vector_instrumentation::entry &entry : this->entries_) {\n     std::pair key(entry.owner, entry.object_id);\n     std::size_t &object_size = object_sizes[key];"
        ],
        "files_changed": [
            {
                "filename": "src/quick-lint-js/container/vector-profiler-debug.cpp",
                "status": "modified",
                "additions": 1,
                "deletions": 1,
                "changes": 2,
                "patch": "@@ -73,7 +73,7 @@ std::map<std::string, std::map<std::size_t, int>>\n vector_instrumentation::max_size_histogram_by_owner() const {\n   std::lock_guard lock(this->mutex_);\n   std::map<std::string, std::map<std::size_t, int>> histogram;\n-  std::map<std::pair<std::string, std::uintptr_t>, std::size_t> object_sizes;\n+  std::map<std::pair<const char *, std::uintptr_t>, std::size_t> object_sizes;\n   for (const vector_instrumentation::entry &entry : this->entries_) {\n     std::pair key(entry.owner, entry.object_id);\n     std::size_t &object_size = object_sizes[key];"
            }
        ],
        "lines_added": 1,
        "lines_removed": 1
    },
    "issues": [],
    "pull_requests": [],
    "build_info": {
        "old_build_script": [
            "apt-get update",
            "cmake -S /test_workspace/workspace/old -B /test_workspace/workspace/old/build -DCMAKE_BUILD_TYPE=Debug -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -DBENCHMARK_ENABLE_TESTING=ON -DBUILD_TESTING=ON -DBENCHMARK_USE_BUNDLED_GTEST=ON -DBENCHMARK_ENABLE_GTEST_TESTS=ON -DBENCHMARK_ENABLE_ASSEMBLY_TESTS=ON",
            "cmake --build /test_workspace/workspace/old/build -- -j 1"
        ],
        "new_build_script": [
            "apt-get update",
            "cmake -S /test_workspace/workspace/new -B /test_workspace/workspace/new/build -DCMAKE_BUILD_TYPE=Debug -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -DBENCHMARK_ENABLE_TESTING=ON -DBUILD_TESTING=ON -DBENCHMARK_USE_BUNDLED_GTEST=ON -DBENCHMARK_ENABLE_GTEST_TESTS=ON -DBENCHMARK_ENABLE_ASSEMBLY_TESTS=ON",
            "cmake --build /test_workspace/workspace/new/build -- -j 1"
        ],
        "old_test_script": [
            "cd /test_workspace/workspace/old/build",
            "ctest --output-on-failure"
        ],
        "new_test_script": [
            "cd /test_workspace/workspace/new/build",
            "ctest --output-on-failure"
        ],
        "build_system": "cmake"
    },
    "performance_analysis": {
        "is_significant": false,
        "p_value": 1.0,
        "is_pair_significant": false,
        "pair_p_value": 1.0,
        "is_binom_significant": false,
        "binom_p_value": 1.0,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.9999992605540887,
        "is_mannwhitney_significant": false,
        "mannwhitney_p_value": 0.7272422530364817,
        "relative_improvement": -0.0015205271160669608,
        "absolute_improvement_ms": -2.0000000000000018,
        "old_mean_ms": 1315.3333333333335,
        "new_mean_ms": 1317.3333333333335,
        "old_std_ms": 8.193072487266868,
        "new_std_ms": 10.148325268098503,
        "effect_size_cohens_d": -0.21685715811802717,
        "old_ci95_ms": [
            1312.273989787684,
            1318.392676878983
        ],
        "new_ci95_ms": [
            1313.5438864004082,
            1321.1227802662588
        ],
        "old_ci99_ms": [
            1311.21021128875,
            1319.4564553779169
        ],
        "new_ci99_ms": [
            1312.2262402747124,
            1322.4404263919544
        ],
        "new_times_s": [
            1.3,
            1.33,
            1.31,
            1.32,
            1.32,
            1.33,
            1.3,
            1.31,
            1.3,
            1.32,
            1.31,
            1.31,
            1.32,
            1.3,
            1.32,
            1.33,
            1.32,
            1.31,
            1.32,
            1.35,
            1.32,
            1.32,
            1.31,
            1.32,
            1.31,
            1.32,
            1.32,
            1.31,
            1.32,
            1.32,
            1.32
        ],
        "old_times_s": [
            1.31,
            1.31,
            1.32,
            1.31,
            1.32,
            1.31,
            1.3,
            1.32,
            1.32,
            1.33,
            1.32,
            1.32,
            1.32,
            1.3,
            1.31,
            1.32,
            1.32,
            1.33,
            1.32,
            1.31,
            1.31,
            1.3,
            1.32,
            1.32,
            1.32,
            1.32,
            1.31,
            1.32,
            1.32,
            1.31,
            1.3
        ]
    },
    "tests": {
        "total_tests": 2,
        "significant_improvements": 0,
        "significant_improvements_tests": [],
        "significant_regressions": 0,
        "significant_regressions_tests": [],
        "significant_pair_improvements": 0,
        "significant_pair_improvements_tests": [],
        "significant_pair_regressions": 0,
        "significant_pair_regressions_tests": [],
        "significant_binom_improvements": 0,
        "significant_binom_improvements_tests": [],
        "significant_binom_regressions": 0,
        "significant_binom_regressions_tests": [],
        "significant_wilcoxon_improvements": 0,
        "significant_wilcoxon_improvements_tests": [],
        "significant_wilcoxon_regressions": 0,
        "significant_wilcoxon_regressions_tests": [],
        "significant_mannwhitney_improvements": 0,
        "significant_mannwhitney_improvements_tests": [],
        "significant_mannwhitney_regressions": 0,
        "significant_mannwhitney_regressions_tests": [],
        "tests": [
            {
                "test_name": "quick-lint-js-test",
                "is_significant": false,
                "p_value": 1.0,
                "is_pair_significant": false,
                "pair_p_value": 0.9999999999999986,
                "is_binom_significant": false,
                "binom_p_value": 1.0,
                "is_wilcoxon_significant": false,
                "wilcoxon_p_value": 0.9999991729707841,
                "is_mannwhitney_significant": false,
                "mannwhitney_p_value": 0.5827968435540014,
                "relative_improvement": -0.0016703786191535402,
                "absolute_improvement_ms": -1.034482758620503,
                "old_mean_ms": 619.3103448275863,
                "new_mean_ms": 620.3448275862067,
                "old_std_ms": 5.934785158440645,
                "new_std_ms": 9.056473068115295,
                "effect_size_cohens_d": -0.135113204733289,
                "old_ci95_ms": [
                    617.0528732851251,
                    621.5678163700476
                ],
                "new_ci95_ms": [
                    616.8999294676522,
                    623.7897257047613
                ],
                "old_ci99_ms": [
                    616.2650584534682,
                    622.3556312017043
                ],
                "new_ci99_ms": [
                    615.697725240358,
                    624.9919299320557
                ],
                "new_times": [
                    0.61,
                    0.63,
                    0.62,
                    0.62,
                    0.61,
                    0.61,
                    0.62,
                    0.63,
                    0.61,
                    0.62,
                    0.63,
                    0.61,
                    0.62,
                    0.63,
                    0.63,
                    0.62,
                    0.62,
                    0.65,
                    0.63,
                    0.61,
                    0.61,
                    0.62,
                    0.62,
                    0.62,
                    0.62,
                    0.62,
                    0.61,
                    0.62,
                    0.62
                ],
                "old_times": [
                    0.63,
                    0.62,
                    0.62,
                    0.62,
                    0.61,
                    0.63,
                    0.62,
                    0.62,
                    0.61,
                    0.62,
                    0.62,
                    0.61,
                    0.62,
                    0.62,
                    0.63,
                    0.62,
                    0.62,
                    0.61,
                    0.62,
                    0.62,
                    0.62,
                    0.62,
                    0.62,
                    0.63,
                    0.62,
                    0.62,
                    0.62,
                    0.61,
                    0.61
                ]
            },
            {
                "test_name": "quick-lint-js-test-cli",
                "is_significant": false,
                "p_value": 1.0,
                "is_pair_significant": false,
                "pair_p_value": 1.0,
                "is_binom_significant": false,
                "binom_p_value": 1.0,
                "is_wilcoxon_significant": false,
                "wilcoxon_p_value": 0.9999999638108507,
                "is_mannwhitney_significant": false,
                "mannwhitney_p_value": 1.0,
                "relative_improvement": 0.0,
                "absolute_improvement_ms": 0.0,
                "old_mean_ms": 100.00000000000003,
                "new_mean_ms": 100.00000000000003,
                "old_std_ms": 2.824686288200359e-14,
                "new_std_ms": 2.824686288200359e-14,
                "effect_size_cohens_d": 0.0,
                "old_ci95_ms": [
                    100.00000000000001,
                    100.00000000000004
                ],
                "new_ci95_ms": [
                    100.00000000000001,
                    100.00000000000004
                ],
                "old_ci99_ms": [
                    100.00000000000001,
                    100.00000000000004
                ],
                "new_ci99_ms": [
                    100.00000000000001,
                    100.00000000000004
                ],
                "new_times": [
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1
                ],
                "old_times": [
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1,
                    0.1
                ]
            }
        ]
    },
    "logs": {
        "full_log_path": "/logs/full.log",
        "config_log_path": "/logs/config.log",
        "build_log_path": "/logs/build.log",
        "test_log_path": "/logs/test.log",
        "build_success": true,
        "test_success": true
    },
    "raw_timing_data": {
        "warmup_runs": 1,
        "measurement_runs": 30,
        "min_exec_time_improvement": 0.05,
        "min_p_value": 0.05
    }
}