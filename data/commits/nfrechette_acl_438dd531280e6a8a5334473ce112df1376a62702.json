{
  "metadata": {
    "collection_date": "2026-02-03T20:04:22.569257",
    "repository": "https://github.com/nfrechette/acl",
    "repository_name": "nfrechette/acl"
  },
  "commit_info": {
    "old_sha": "76ab10598d59557f0f341c58466e3b1269069a67",
    "new_sha": "438dd531280e6a8a5334473ce112df1376a62702",
    "commit_message": [
      "fix: avoid branch when querying per track rounding mode\n\nGenerates leaner assembly for the common case."
    ],
    "commit_date": "2022-07-17T02:49:54+00:00",
    "patch": [
      "--- includes/acl/compression/impl/track_array.impl.h\n@@ -246,7 +246,7 @@ namespace acl\n \t\t\t{\n \t\t\t\tconst track_float1f& track__ = track_cast<track_float1f>(m_tracks[track_index]);\n \n-\t\t\t\tconst sample_rounding_policy rounding_policy_ = rounding_policy == sample_rounding_policy::per_track ? writer.get_rounding_policy(track_index) : rounding_policy;\n+\t\t\t\tconst sample_rounding_policy rounding_policy_ = writer.get_rounding_policy(rounding_policy, track_index);\n \t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n \t\t\t\tconst float alpha = interpolation_alpha_per_policy[static_cast<int>(rounding_policy_)];\n \n@@ -261,7 +261,7 @@ namespace acl\n \t\t\t{\n \t\t\t\tconst track_float2f& track__ = track_cast<track_float2f>(m_tracks[track_index]);\n \n-\t\t\t\tconst sample_rounding_policy rounding_policy_ = rounding_policy == sample_rounding_policy::per_track ? writer.get_rounding_policy(track_index) : rounding_policy;\n+\t\t\t\tconst sample_rounding_policy rounding_policy_ = writer.get_rounding_policy(rounding_policy, track_index);\n \t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n \t\t\t\tconst float alpha = interpolation_alpha_per_policy[static_cast<int>(rounding_policy_)];\n \n@@ -276,7 +276,7 @@ namespace acl\n \t\t\t{\n \t\t\t\tconst track_float3f& track__ = track_cast<track_float3f>(m_tracks[track_index]);\n \n-\t\t\t\tconst sample_rounding_policy rounding_policy_ = rounding_policy == sample_rounding_policy::per_track ? writer.get_rounding_policy(track_index) : rounding_policy;\n+\t\t\t\tconst sample_rounding_policy rounding_policy_ = writer.get_rounding_policy(rounding_policy, track_index);\n \t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n \t\t\t\tconst float alpha = interpolation_alpha_per_policy[static_cast<int>(rounding_policy_)];\n \n@@ -291,7 +291,7 @@ namespace acl\n \t\t\t{\n \t\t\t\tconst track_float4f& track__ = track_cast<track_float4f>(m_tracks[track_index]);\n \n-\t\t\t\tconst sample_rounding_policy rounding_policy_ = rounding_policy == sample_rounding_policy::per_track ? writer.get_rounding_policy(track_index) : rounding_policy;\n+\t\t\t\tconst sample_rounding_policy rounding_policy_ = writer.get_rounding_policy(rounding_policy, track_index);\n \t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n \t\t\t\tconst float alpha = interpolation_alpha_per_policy[static_cast<int>(rounding_policy_)];\n \n@@ -306,7 +306,7 @@ namespace acl\n \t\t\t{\n \t\t\t\tconst track_vector4f& track__ = track_cast<track_vector4f>(m_tracks[track_index]);\n \n-\t\t\t\tconst sample_rounding_policy rounding_policy_ = rounding_policy == sample_rounding_policy::per_track ? writer.get_rounding_policy(track_index) : rounding_policy;\n+\t\t\t\tconst sample_rounding_policy rounding_policy_ = writer.get_rounding_policy(rounding_policy, track_index);\n \t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n \t\t\t\tconst float alpha = interpolation_alpha_per_policy[static_cast<int>(rounding_policy_)];\n \n@@ -321,7 +321,7 @@ namespace acl\n \t\t\t{\n \t\t\t\tconst track_qvvf& track__ = track_cast<track_qvvf>(m_tracks[track_index]);\n \n-\t\t\t\tconst sample_rounding_policy rounding_policy_ = rounding_policy == sample_rounding_policy::per_track ? writer.get_rounding_policy(track_index) : rounding_policy;\n+\t\t\t\tconst sample_rounding_policy rounding_policy_ = writer.get_rounding_policy(rounding_policy, track_index);\n \t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n \t\t\t\tconst float alpha = interpolation_alpha_per_policy[static_cast<int>(rounding_policy_)];\n \n@@ -356,7 +356,7 @@ namespace acl\n \t\tconst float duration = get_finite_duration();\n \t\tsample_time = rtm::scalar_clamp(sample_time, 0.0F, duration);\n \n-\t\tconst sample_rounding_policy rounding_policy_ = rounding_policy == sample_rounding_policy::per_track ? writer.get_rounding_policy(track_index) : rounding_policy;\n+\t\tconst sample_rounding_policy rounding_policy_ = writer.get_rounding_policy(rounding_policy, track_index);\n \t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n \n \t\tuint32_t key_frame0;\n--- includes/acl/core/impl/debug_track_writer.h\n@@ -279,7 +279,7 @@ namespace acl\n \t\t\t{\n \t\t\t}\n \n-\t\t\tsample_rounding_policy get_rounding_policy(uint32_t /*track_index*/) const { return rounding_policy; }\n+\t\t\tsample_rounding_policy get_rounding_policy(sample_rounding_policy /*seek_policy*/, uint32_t /*track_index*/) const { return rounding_policy; }\n \n \t\t\tsample_rounding_policy rounding_policy;\n \t\t};\n--- includes/acl/core/track_writer.h\n@@ -87,9 +87,13 @@ namespace acl\n \t\t// This allows the host runtime to control which rounding policy to use per track.\n \t\t// To enable this, make sure that the 'decompression_settings' supports this feature\n \t\t// and provide 'sample_rounding_policy::per_track' to the seek function.\n-\t\t// This function cannot return the 'per_track' value. We do so here to force an\n-\t\t// assert at runtime if the caller attempts to use it but does not override this.\n-\t\tconstexpr sample_rounding_policy get_rounding_policy(uint32_t /*track_index*/) const { return sample_rounding_policy::per_track; }\n+\t\t// This function is called when the decompression settings enable the feature.\n+\t\t// If per track rounding isn't used, this function must return the seek policy\n+\t\t// provided as an argument (the one passed to the seek(..) function).\n+\t\t// If per track rounding is specified when seeking, this function must return a\n+\t\t// valid per track value.\n+\t\t// This function cannot return the 'per_track' value. Doing so will assert at runtime.\n+\t\tconstexpr sample_rounding_policy get_rounding_policy(sample_rounding_policy seek_policy, uint32_t /*track_index*/) const { return seek_policy; }\n \n \t\t//////////////////////////////////////////////////////////////////////////\n \t\t// Scalar track writing\n--- includes/acl/decompression/impl/scalar_track_decompression.h\n@@ -232,7 +232,7 @@ namespace acl\n \t\t\t\trtm::scalarf alpha = interpolation_alpha;\n \t\t\t\tif (decompression_settings_type::is_per_track_rounding_supported())\n \t\t\t\t{\n-\t\t\t\t\tconst sample_rounding_policy rounding_policy_ = rounding_policy == sample_rounding_policy::per_track ? writer.get_rounding_policy(track_index) : rounding_policy;\n+\t\t\t\t\tconst sample_rounding_policy rounding_policy_ = writer.get_rounding_policy(rounding_policy, track_index);\n \t\t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n \n \t\t\t\t\talpha = rtm::scalar_set(interpolation_alpha_per_policy[static_cast<int>(rounding_policy_)]);\n@@ -461,7 +461,7 @@ namespace acl\n \t\t\tif (decompression_settings_type::is_per_track_rounding_supported())\n \t\t\t{\n \t\t\t\tconst sample_rounding_policy rounding_policy = static_cast<sample_rounding_policy>(context.rounding_policy);\n-\t\t\t\tconst sample_rounding_policy rounding_policy_ = rounding_policy == sample_rounding_policy::per_track ? writer.get_rounding_policy(track_index) : rounding_policy;\n+\t\t\t\tconst sample_rounding_policy rounding_policy_ = writer.get_rounding_policy(rounding_policy, track_index);\n \t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n \t\t\t\t\n \t\t\t\tinterpolation_alpha = rtm::scalar_set(apply_rounding_policy(context.interpolation_alpha, rounding_policy_));\n--- includes/acl/decompression/impl/transform_track_decompression.h\n@@ -739,9 +739,8 @@ namespace acl\n \t\t\t\t\t\t// When it isn't supported, we always use 'none' since the interpolation alpha was properly calculated\n \t\t\t\t\t\t// and rounding has already been performed for us.\n \t\t\t\t\t\tconst sample_rounding_policy rounding_policy_ =\n-\t\t\t\t\t\t\tdecompression_settings_type::is_per_track_rounding_supported() &&\n-\t\t\t\t\t\t\trounding_policy == sample_rounding_policy::per_track ?\n-\t\t\t\t\t\t\twriter.get_rounding_policy(track_index0) :\n+\t\t\t\t\t\t\tdecompression_settings_type::is_per_track_rounding_supported() ?\n+\t\t\t\t\t\t\twriter.get_rounding_policy(rounding_policy, track_index0) :\n \t\t\t\t\t\t\tsample_rounding_policy::none;\n \n \t\t\t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n@@ -763,9 +762,8 @@ namespace acl\n \t\t\t\t\t\t// When it isn't supported, we always use 'none' since the interpolation alpha was properly calculated\n \t\t\t\t\t\t// and rounding has already been performed for us.\n \t\t\t\t\t\tconst sample_rounding_policy rounding_policy_ =\n-\t\t\t\t\t\t\tdecompression_settings_type::is_per_track_rounding_supported() &&\n-\t\t\t\t\t\t\trounding_policy == sample_rounding_policy::per_track ?\n-\t\t\t\t\t\t\twriter.get_rounding_policy(track_index1) :\n+\t\t\t\t\t\t\tdecompression_settings_type::is_per_track_rounding_supported() ?\n+\t\t\t\t\t\t\twriter.get_rounding_policy(rounding_policy, track_index1) :\n \t\t\t\t\t\t\tsample_rounding_policy::none;\n \n \t\t\t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n@@ -787,9 +785,8 @@ namespace acl\n \t\t\t\t\t\t// When it isn't supported, we always use 'none' since the interpolation alpha was properly calculated\n \t\t\t\t\t\t// and rounding has already been performed for us.\n \t\t\t\t\t\tconst sample_rounding_policy rounding_policy_ =\n-\t\t\t\t\t\t\tdecompression_settings_type::is_per_track_rounding_supported() &&\n-\t\t\t\t\t\t\trounding_policy == sample_rounding_policy::per_track ?\n-\t\t\t\t\t\t\twriter.get_rounding_policy(track_index2) :\n+\t\t\t\t\t\t\tdecompression_settings_type::is_per_track_rounding_supported() ?\n+\t\t\t\t\t\t\twriter.get_rounding_policy(rounding_policy, track_index2) :\n \t\t\t\t\t\t\tsample_rounding_policy::none;\n \n \t\t\t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n@@ -811,9 +808,8 @@ namespace acl\n \t\t\t\t\t\t// When it isn't supported, we always use 'none' since the interpolation alpha was properly calculated\n \t\t\t\t\t\t// and rounding has already been performed for us.\n \t\t\t\t\t\tconst sample_rounding_policy rounding_policy_ =\n-\t\t\t\t\t\t\tdecompression_settings_type::is_per_track_rounding_supported() &&\n-\t\t\t\t\t\t\trounding_policy == sample_rounding_policy::per_track ?\n-\t\t\t\t\t\t\twriter.get_rounding_policy(track_index3) :\n+\t\t\t\t\t\t\tdecompression_settings_type::is_per_track_rounding_supported() ?\n+\t\t\t\t\t\t\twriter.get_rounding_policy(rounding_policy, track_index3) :\n \t\t\t\t\t\t\tsample_rounding_policy::none;\n \n \t\t\t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n@@ -1067,9 +1063,8 @@ namespace acl\n \t\t\t\t\t\t// When it isn't supported, we always use 'none' since the interpolation alpha was properly calculated\n \t\t\t\t\t\t// and rounding has already been performed for us.\n \t\t\t\t\t\tconst sample_rounding_policy rounding_policy_ =\n-\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() &&\n-\t\t\t\t\t\t\trounding_policy == sample_rounding_policy::per_track ?\n-\t\t\t\t\t\t\twriter.get_rounding_policy(track_index0) :\n+\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() ?\n+\t\t\t\t\t\t\twriter.get_rounding_policy(rounding_policy, track_index0) :\n \t\t\t\t\t\t\tsample_rounding_policy::none;\n \n \t\t\t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n@@ -1090,9 +1085,8 @@ namespace acl\n \t\t\t\t\t\t// When it isn't supported, we always use 'none' since the interpolation alpha was properly calculated\n \t\t\t\t\t\t// and rounding has already been performed for us.\n \t\t\t\t\t\tconst sample_rounding_policy rounding_policy_ =\n-\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() &&\n-\t\t\t\t\t\t\trounding_policy == sample_rounding_policy::per_track ?\n-\t\t\t\t\t\t\twriter.get_rounding_policy(track_index1) :\n+\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() ?\n+\t\t\t\t\t\t\twriter.get_rounding_policy(rounding_policy, track_index1) :\n \t\t\t\t\t\t\tsample_rounding_policy::none;\n \n \t\t\t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n@@ -1113,9 +1107,8 @@ namespace acl\n \t\t\t\t\t\t// When it isn't supported, we always use 'none' since the interpolation alpha was properly calculated\n \t\t\t\t\t\t// and rounding has already been performed for us.\n \t\t\t\t\t\tconst sample_rounding_policy rounding_policy_ =\n-\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() &&\n-\t\t\t\t\t\t\trounding_policy == sample_rounding_policy::per_track ?\n-\t\t\t\t\t\t\twriter.get_rounding_policy(track_index2) :\n+\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() ?\n+\t\t\t\t\t\t\twriter.get_rounding_policy(rounding_policy, track_index2) :\n \t\t\t\t\t\t\tsample_rounding_policy::none;\n \n \t\t\t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n@@ -1136,9 +1129,8 @@ namespace acl\n \t\t\t\t\t\t// When it isn't supported, we always use 'none' since the interpolation alpha was properly calculated\n \t\t\t\t\t\t// and rounding has already been performed for us.\n \t\t\t\t\t\tconst sample_rounding_policy rounding_policy_ =\n-\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() &&\n-\t\t\t\t\t\t\trounding_policy == sample_rounding_policy::per_track ?\n-\t\t\t\t\t\t\twriter.get_rounding_policy(track_index3) :\n+\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() ?\n+\t\t\t\t\t\t\twriter.get_rounding_policy(rounding_policy, track_index3) :\n \t\t\t\t\t\t\tsample_rounding_policy::none;\n \n \t\t\t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n@@ -1396,9 +1388,8 @@ namespace acl\n \t\t\t\t\t\t// When it isn't supported, we always use 'none' since the interpolation alpha was properly calculated\n \t\t\t\t\t\t// and rounding has already been performed for us.\n \t\t\t\t\t\tconst sample_rounding_policy rounding_policy_ =\n-\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() &&\n-\t\t\t\t\t\t\trounding_policy == sample_rounding_policy::per_track ?\n-\t\t\t\t\t\t\twriter.get_rounding_policy(track_index0) :\n+\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() ?\n+\t\t\t\t\t\t\twriter.get_rounding_policy(rounding_policy, track_index0) :\n \t\t\t\t\t\t\tsample_rounding_policy::none;\n \n \t\t\t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n@@ -1419,9 +1410,8 @@ namespace acl\n \t\t\t\t\t\t// When it isn't supported, we always use 'none' since the interpolation alpha was properly calculated\n \t\t\t\t\t\t// and rounding has already been performed for us.\n \t\t\t\t\t\tconst sample_rounding_policy rounding_policy_ =\n-\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() &&\n-\t\t\t\t\t\t\trounding_policy == sample_rounding_policy::per_track ?\n-\t\t\t\t\t\t\twriter.get_rounding_policy(track_index1) :\n+\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() ?\n+\t\t\t\t\t\t\twriter.get_rounding_policy(rounding_policy, track_index1) :\n \t\t\t\t\t\t\tsample_rounding_policy::none;\n \n \t\t\t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n@@ -1442,9 +1432,8 @@ namespace acl\n \t\t\t\t\t\t// When it isn't supported, we always use 'none' since the interpolation alpha was properly calculated\n \t\t\t\t\t\t// and rounding has already been performed for us.\n \t\t\t\t\t\tconst sample_rounding_policy rounding_policy_ =\n-\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() &&\n-\t\t\t\t\t\t\trounding_policy == sample_rounding_policy::per_track ?\n-\t\t\t\t\t\t\twriter.get_rounding_policy(track_index2) :\n+\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() ?\n+\t\t\t\t\t\t\twriter.get_rounding_policy(rounding_policy, track_index2) :\n \t\t\t\t\t\t\tsample_rounding_policy::none;\n \n \t\t\t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n@@ -1465,9 +1454,8 @@ namespace acl\n \t\t\t\t\t\t// When it isn't supported, we always use 'none' since the interpolation alpha was properly calculated\n \t\t\t\t\t\t// and rounding has already been performed for us.\n \t\t\t\t\t\tconst sample_rounding_policy rounding_policy_ =\n-\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() &&\n-\t\t\t\t\t\t\trounding_policy == sample_rounding_policy::per_track ?\n-\t\t\t\t\t\t\twriter.get_rounding_policy(track_index3) :\n+\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() ?\n+\t\t\t\t\t\t\twriter.get_rounding_policy(rounding_policy, track_index3) :\n \t\t\t\t\t\t\tsample_rounding_policy::none;\n \n \t\t\t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n@@ -1934,7 +1922,7 @@ namespace acl\n \t\t\tif (decompression_settings_type::is_per_track_rounding_supported())\n \t\t\t{\n \t\t\t\tconst sample_rounding_policy rounding_policy = context.get_rounding_policy();\n-\t\t\t\tconst sample_rounding_policy rounding_policy_ = rounding_policy == sample_rounding_policy::per_track ? writer.get_rounding_policy(track_index) : rounding_policy;\n+\t\t\t\tconst sample_rounding_policy rounding_policy_ = writer.get_rounding_policy(rounding_policy, track_index);\n \t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n \n \t\t\t\tinterpolation_alpha = apply_rounding_policy(interpolation_alpha, rounding_policy_);"
    ],
    "files_changed": [
      {
        "filename": "includes/acl/compression/impl/track_array.impl.h",
        "status": "modified",
        "additions": 7,
        "deletions": 7,
        "changes": 14,
        "patch": "@@ -246,7 +246,7 @@ namespace acl\n \t\t\t{\n \t\t\t\tconst track_float1f& track__ = track_cast<track_float1f>(m_tracks[track_index]);\n \n-\t\t\t\tconst sample_rounding_policy rounding_policy_ = rounding_policy == sample_rounding_policy::per_track ? writer.get_rounding_policy(track_index) : rounding_policy;\n+\t\t\t\tconst sample_rounding_policy rounding_policy_ = writer.get_rounding_policy(rounding_policy, track_index);\n \t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n \t\t\t\tconst float alpha = interpolation_alpha_per_policy[static_cast<int>(rounding_policy_)];\n \n@@ -261,7 +261,7 @@ namespace acl\n \t\t\t{\n \t\t\t\tconst track_float2f& track__ = track_cast<track_float2f>(m_tracks[track_index]);\n \n-\t\t\t\tconst sample_rounding_policy rounding_policy_ = rounding_policy == sample_rounding_policy::per_track ? writer.get_rounding_policy(track_index) : rounding_policy;\n+\t\t\t\tconst sample_rounding_policy rounding_policy_ = writer.get_rounding_policy(rounding_policy, track_index);\n \t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n \t\t\t\tconst float alpha = interpolation_alpha_per_policy[static_cast<int>(rounding_policy_)];\n \n@@ -276,7 +276,7 @@ namespace acl\n \t\t\t{\n \t\t\t\tconst track_float3f& track__ = track_cast<track_float3f>(m_tracks[track_index]);\n \n-\t\t\t\tconst sample_rounding_policy rounding_policy_ = rounding_policy == sample_rounding_policy::per_track ? writer.get_rounding_policy(track_index) : rounding_policy;\n+\t\t\t\tconst sample_rounding_policy rounding_policy_ = writer.get_rounding_policy(rounding_policy, track_index);\n \t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n \t\t\t\tconst float alpha = interpolation_alpha_per_policy[static_cast<int>(rounding_policy_)];\n \n@@ -291,7 +291,7 @@ namespace acl\n \t\t\t{\n \t\t\t\tconst track_float4f& track__ = track_cast<track_float4f>(m_tracks[track_index]);\n \n-\t\t\t\tconst sample_rounding_policy rounding_policy_ = rounding_policy == sample_rounding_policy::per_track ? writer.get_rounding_policy(track_index) : rounding_policy;\n+\t\t\t\tconst sample_rounding_policy rounding_policy_ = writer.get_rounding_policy(rounding_policy, track_index);\n \t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n \t\t\t\tconst float alpha = interpolation_alpha_per_policy[static_cast<int>(rounding_policy_)];\n \n@@ -306,7 +306,7 @@ namespace acl\n \t\t\t{\n \t\t\t\tconst track_vector4f& track__ = track_cast<track_vector4f>(m_tracks[track_index]);\n \n-\t\t\t\tconst sample_rounding_policy rounding_policy_ = rounding_policy == sample_rounding_policy::per_track ? writer.get_rounding_policy(track_index) : rounding_policy;\n+\t\t\t\tconst sample_rounding_policy rounding_policy_ = writer.get_rounding_policy(rounding_policy, track_index);\n \t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n \t\t\t\tconst float alpha = interpolation_alpha_per_policy[static_cast<int>(rounding_policy_)];\n \n@@ -321,7 +321,7 @@ namespace acl\n \t\t\t{\n \t\t\t\tconst track_qvvf& track__ = track_cast<track_qvvf>(m_tracks[track_index]);\n \n-\t\t\t\tconst sample_rounding_policy rounding_policy_ = rounding_policy == sample_rounding_policy::per_track ? writer.get_rounding_policy(track_index) : rounding_policy;\n+\t\t\t\tconst sample_rounding_policy rounding_policy_ = writer.get_rounding_policy(rounding_policy, track_index);\n \t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n \t\t\t\tconst float alpha = interpolation_alpha_per_policy[static_cast<int>(rounding_policy_)];\n \n@@ -356,7 +356,7 @@ namespace acl\n \t\tconst float duration = get_finite_duration();\n \t\tsample_time = rtm::scalar_clamp(sample_time, 0.0F, duration);\n \n-\t\tconst sample_rounding_policy rounding_policy_ = rounding_policy == sample_rounding_policy::per_track ? writer.get_rounding_policy(track_index) : rounding_policy;\n+\t\tconst sample_rounding_policy rounding_policy_ = writer.get_rounding_policy(rounding_policy, track_index);\n \t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n \n \t\tuint32_t key_frame0;"
      },
      {
        "filename": "includes/acl/core/impl/debug_track_writer.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "patch": "@@ -279,7 +279,7 @@ namespace acl\n \t\t\t{\n \t\t\t}\n \n-\t\t\tsample_rounding_policy get_rounding_policy(uint32_t /*track_index*/) const { return rounding_policy; }\n+\t\t\tsample_rounding_policy get_rounding_policy(sample_rounding_policy /*seek_policy*/, uint32_t /*track_index*/) const { return rounding_policy; }\n \n \t\t\tsample_rounding_policy rounding_policy;\n \t\t};"
      },
      {
        "filename": "includes/acl/core/track_writer.h",
        "status": "modified",
        "additions": 7,
        "deletions": 3,
        "changes": 10,
        "patch": "@@ -87,9 +87,13 @@ namespace acl\n \t\t// This allows the host runtime to control which rounding policy to use per track.\n \t\t// To enable this, make sure that the 'decompression_settings' supports this feature\n \t\t// and provide 'sample_rounding_policy::per_track' to the seek function.\n-\t\t// This function cannot return the 'per_track' value. We do so here to force an\n-\t\t// assert at runtime if the caller attempts to use it but does not override this.\n-\t\tconstexpr sample_rounding_policy get_rounding_policy(uint32_t /*track_index*/) const { return sample_rounding_policy::per_track; }\n+\t\t// This function is called when the decompression settings enable the feature.\n+\t\t// If per track rounding isn't used, this function must return the seek policy\n+\t\t// provided as an argument (the one passed to the seek(..) function).\n+\t\t// If per track rounding is specified when seeking, this function must return a\n+\t\t// valid per track value.\n+\t\t// This function cannot return the 'per_track' value. Doing so will assert at runtime.\n+\t\tconstexpr sample_rounding_policy get_rounding_policy(sample_rounding_policy seek_policy, uint32_t /*track_index*/) const { return seek_policy; }\n \n \t\t//////////////////////////////////////////////////////////////////////////\n \t\t// Scalar track writing"
      },
      {
        "filename": "includes/acl/decompression/impl/scalar_track_decompression.h",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "patch": "@@ -232,7 +232,7 @@ namespace acl\n \t\t\t\trtm::scalarf alpha = interpolation_alpha;\n \t\t\t\tif (decompression_settings_type::is_per_track_rounding_supported())\n \t\t\t\t{\n-\t\t\t\t\tconst sample_rounding_policy rounding_policy_ = rounding_policy == sample_rounding_policy::per_track ? writer.get_rounding_policy(track_index) : rounding_policy;\n+\t\t\t\t\tconst sample_rounding_policy rounding_policy_ = writer.get_rounding_policy(rounding_policy, track_index);\n \t\t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n \n \t\t\t\t\talpha = rtm::scalar_set(interpolation_alpha_per_policy[static_cast<int>(rounding_policy_)]);\n@@ -461,7 +461,7 @@ namespace acl\n \t\t\tif (decompression_settings_type::is_per_track_rounding_supported())\n \t\t\t{\n \t\t\t\tconst sample_rounding_policy rounding_policy = static_cast<sample_rounding_policy>(context.rounding_policy);\n-\t\t\t\tconst sample_rounding_policy rounding_policy_ = rounding_policy == sample_rounding_policy::per_track ? writer.get_rounding_policy(track_index) : rounding_policy;\n+\t\t\t\tconst sample_rounding_policy rounding_policy_ = writer.get_rounding_policy(rounding_policy, track_index);\n \t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n \t\t\t\t\n \t\t\t\tinterpolation_alpha = rtm::scalar_set(apply_rounding_policy(context.interpolation_alpha, rounding_policy_));"
      },
      {
        "filename": "includes/acl/decompression/impl/transform_track_decompression.h",
        "status": "modified",
        "additions": 25,
        "deletions": 37,
        "changes": 62,
        "patch": "@@ -739,9 +739,8 @@ namespace acl\n \t\t\t\t\t\t// When it isn't supported, we always use 'none' since the interpolation alpha was properly calculated\n \t\t\t\t\t\t// and rounding has already been performed for us.\n \t\t\t\t\t\tconst sample_rounding_policy rounding_policy_ =\n-\t\t\t\t\t\t\tdecompression_settings_type::is_per_track_rounding_supported() &&\n-\t\t\t\t\t\t\trounding_policy == sample_rounding_policy::per_track ?\n-\t\t\t\t\t\t\twriter.get_rounding_policy(track_index0) :\n+\t\t\t\t\t\t\tdecompression_settings_type::is_per_track_rounding_supported() ?\n+\t\t\t\t\t\t\twriter.get_rounding_policy(rounding_policy, track_index0) :\n \t\t\t\t\t\t\tsample_rounding_policy::none;\n \n \t\t\t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n@@ -763,9 +762,8 @@ namespace acl\n \t\t\t\t\t\t// When it isn't supported, we always use 'none' since the interpolation alpha was properly calculated\n \t\t\t\t\t\t// and rounding has already been performed for us.\n \t\t\t\t\t\tconst sample_rounding_policy rounding_policy_ =\n-\t\t\t\t\t\t\tdecompression_settings_type::is_per_track_rounding_supported() &&\n-\t\t\t\t\t\t\trounding_policy == sample_rounding_policy::per_track ?\n-\t\t\t\t\t\t\twriter.get_rounding_policy(track_index1) :\n+\t\t\t\t\t\t\tdecompression_settings_type::is_per_track_rounding_supported() ?\n+\t\t\t\t\t\t\twriter.get_rounding_policy(rounding_policy, track_index1) :\n \t\t\t\t\t\t\tsample_rounding_policy::none;\n \n \t\t\t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n@@ -787,9 +785,8 @@ namespace acl\n \t\t\t\t\t\t// When it isn't supported, we always use 'none' since the interpolation alpha was properly calculated\n \t\t\t\t\t\t// and rounding has already been performed for us.\n \t\t\t\t\t\tconst sample_rounding_policy rounding_policy_ =\n-\t\t\t\t\t\t\tdecompression_settings_type::is_per_track_rounding_supported() &&\n-\t\t\t\t\t\t\trounding_policy == sample_rounding_policy::per_track ?\n-\t\t\t\t\t\t\twriter.get_rounding_policy(track_index2) :\n+\t\t\t\t\t\t\tdecompression_settings_type::is_per_track_rounding_supported() ?\n+\t\t\t\t\t\t\twriter.get_rounding_policy(rounding_policy, track_index2) :\n \t\t\t\t\t\t\tsample_rounding_policy::none;\n \n \t\t\t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n@@ -811,9 +808,8 @@ namespace acl\n \t\t\t\t\t\t// When it isn't supported, we always use 'none' since the interpolation alpha was properly calculated\n \t\t\t\t\t\t// and rounding has already been performed for us.\n \t\t\t\t\t\tconst sample_rounding_policy rounding_policy_ =\n-\t\t\t\t\t\t\tdecompression_settings_type::is_per_track_rounding_supported() &&\n-\t\t\t\t\t\t\trounding_policy == sample_rounding_policy::per_track ?\n-\t\t\t\t\t\t\twriter.get_rounding_policy(track_index3) :\n+\t\t\t\t\t\t\tdecompression_settings_type::is_per_track_rounding_supported() ?\n+\t\t\t\t\t\t\twriter.get_rounding_policy(rounding_policy, track_index3) :\n \t\t\t\t\t\t\tsample_rounding_policy::none;\n \n \t\t\t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n@@ -1067,9 +1063,8 @@ namespace acl\n \t\t\t\t\t\t// When it isn't supported, we always use 'none' since the interpolation alpha was properly calculated\n \t\t\t\t\t\t// and rounding has already been performed for us.\n \t\t\t\t\t\tconst sample_rounding_policy rounding_policy_ =\n-\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() &&\n-\t\t\t\t\t\t\trounding_policy == sample_rounding_policy::per_track ?\n-\t\t\t\t\t\t\twriter.get_rounding_policy(track_index0) :\n+\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() ?\n+\t\t\t\t\t\t\twriter.get_rounding_policy(rounding_policy, track_index0) :\n \t\t\t\t\t\t\tsample_rounding_policy::none;\n \n \t\t\t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n@@ -1090,9 +1085,8 @@ namespace acl\n \t\t\t\t\t\t// When it isn't supported, we always use 'none' since the interpolation alpha was properly calculated\n \t\t\t\t\t\t// and rounding has already been performed for us.\n \t\t\t\t\t\tconst sample_rounding_policy rounding_policy_ =\n-\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() &&\n-\t\t\t\t\t\t\trounding_policy == sample_rounding_policy::per_track ?\n-\t\t\t\t\t\t\twriter.get_rounding_policy(track_index1) :\n+\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() ?\n+\t\t\t\t\t\t\twriter.get_rounding_policy(rounding_policy, track_index1) :\n \t\t\t\t\t\t\tsample_rounding_policy::none;\n \n \t\t\t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n@@ -1113,9 +1107,8 @@ namespace acl\n \t\t\t\t\t\t// When it isn't supported, we always use 'none' since the interpolation alpha was properly calculated\n \t\t\t\t\t\t// and rounding has already been performed for us.\n \t\t\t\t\t\tconst sample_rounding_policy rounding_policy_ =\n-\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() &&\n-\t\t\t\t\t\t\trounding_policy == sample_rounding_policy::per_track ?\n-\t\t\t\t\t\t\twriter.get_rounding_policy(track_index2) :\n+\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() ?\n+\t\t\t\t\t\t\twriter.get_rounding_policy(rounding_policy, track_index2) :\n \t\t\t\t\t\t\tsample_rounding_policy::none;\n \n \t\t\t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n@@ -1136,9 +1129,8 @@ namespace acl\n \t\t\t\t\t\t// When it isn't supported, we always use 'none' since the interpolation alpha was properly calculated\n \t\t\t\t\t\t// and rounding has already been performed for us.\n \t\t\t\t\t\tconst sample_rounding_policy rounding_policy_ =\n-\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() &&\n-\t\t\t\t\t\t\trounding_policy == sample_rounding_policy::per_track ?\n-\t\t\t\t\t\t\twriter.get_rounding_policy(track_index3) :\n+\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() ?\n+\t\t\t\t\t\t\twriter.get_rounding_policy(rounding_policy, track_index3) :\n \t\t\t\t\t\t\tsample_rounding_policy::none;\n \n \t\t\t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n@@ -1396,9 +1388,8 @@ namespace acl\n \t\t\t\t\t\t// When it isn't supported, we always use 'none' since the interpolation alpha was properly calculated\n \t\t\t\t\t\t// and rounding has already been performed for us.\n \t\t\t\t\t\tconst sample_rounding_policy rounding_policy_ =\n-\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() &&\n-\t\t\t\t\t\t\trounding_policy == sample_rounding_policy::per_track ?\n-\t\t\t\t\t\t\twriter.get_rounding_policy(track_index0) :\n+\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() ?\n+\t\t\t\t\t\t\twriter.get_rounding_policy(rounding_policy, track_index0) :\n \t\t\t\t\t\t\tsample_rounding_policy::none;\n \n \t\t\t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n@@ -1419,9 +1410,8 @@ namespace acl\n \t\t\t\t\t\t// When it isn't supported, we always use 'none' since the interpolation alpha was properly calculated\n \t\t\t\t\t\t// and rounding has already been performed for us.\n \t\t\t\t\t\tconst sample_rounding_policy rounding_policy_ =\n-\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() &&\n-\t\t\t\t\t\t\trounding_policy == sample_rounding_policy::per_track ?\n-\t\t\t\t\t\t\twriter.get_rounding_policy(track_index1) :\n+\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() ?\n+\t\t\t\t\t\t\twriter.get_rounding_policy(rounding_policy, track_index1) :\n \t\t\t\t\t\t\tsample_rounding_policy::none;\n \n \t\t\t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n@@ -1442,9 +1432,8 @@ namespace acl\n \t\t\t\t\t\t// When it isn't supported, we always use 'none' since the interpolation alpha was properly calculated\n \t\t\t\t\t\t// and rounding has already been performed for us.\n \t\t\t\t\t\tconst sample_rounding_policy rounding_policy_ =\n-\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() &&\n-\t\t\t\t\t\t\trounding_policy == sample_rounding_policy::per_track ?\n-\t\t\t\t\t\t\twriter.get_rounding_policy(track_index2) :\n+\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() ?\n+\t\t\t\t\t\t\twriter.get_rounding_policy(rounding_policy, track_index2) :\n \t\t\t\t\t\t\tsample_rounding_policy::none;\n \n \t\t\t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n@@ -1465,9 +1454,8 @@ namespace acl\n \t\t\t\t\t\t// When it isn't supported, we always use 'none' since the interpolation alpha was properly calculated\n \t\t\t\t\t\t// and rounding has already been performed for us.\n \t\t\t\t\t\tconst sample_rounding_policy rounding_policy_ =\n-\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() &&\n-\t\t\t\t\t\t\trounding_policy == sample_rounding_policy::per_track ?\n-\t\t\t\t\t\t\twriter.get_rounding_policy(track_index3) :\n+\t\t\t\t\t\t\tdecompression_settings_adapter_type::is_per_track_rounding_supported() ?\n+\t\t\t\t\t\t\twriter.get_rounding_policy(rounding_policy, track_index3) :\n \t\t\t\t\t\t\tsample_rounding_policy::none;\n \n \t\t\t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n@@ -1934,7 +1922,7 @@ namespace acl\n \t\t\tif (decompression_settings_type::is_per_track_rounding_supported())\n \t\t\t{\n \t\t\t\tconst sample_rounding_policy rounding_policy = context.get_rounding_policy();\n-\t\t\t\tconst sample_rounding_policy rounding_policy_ = rounding_policy == sample_rounding_policy::per_track ? writer.get_rounding_policy(track_index) : rounding_policy;\n+\t\t\t\tconst sample_rounding_policy rounding_policy_ = writer.get_rounding_policy(rounding_policy, track_index);\n \t\t\t\tACL_ASSERT(rounding_policy_ != sample_rounding_policy::per_track, \"track_writer::get_rounding_policy() cannot return per_track\");\n \n \t\t\t\tinterpolation_alpha = apply_rounding_policy(interpolation_alpha, rounding_policy_);"
      }
    ],
    "lines_added": 42,
    "lines_removed": 50
  },
  "issues": [],
  "pull_requests": [],
  "build_info": {
    "old_build_script": [
      "apt-get update",
      "cmake -S /test_workspace/workspace/old -B /test_workspace/workspace/old/build -DCMAKE_BUILD_TYPE=Debug -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -DBUILD_TESTING=ON -DCATCH_BUILD_TESTING=ON -DBENCHMARK_ENABLE_ASSEMBLY_TESTS=ON -DBENCHMARK_ENABLE_TESTING=ON -DBENCHMARK_ENABLE_GTEST_TESTS=ON -DINCLUDE_UNIT_TESTS=ON",
      "cmake --build /test_workspace/workspace/old/build -- -j 1"
    ],
    "new_build_script": [
      "apt-get update",
      "cmake -S /test_workspace/workspace/new -B /test_workspace/workspace/new/build -DCMAKE_BUILD_TYPE=Debug -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -DBUILD_TESTING=ON -DCATCH_BUILD_TESTING=ON -DBENCHMARK_ENABLE_ASSEMBLY_TESTS=ON -DBENCHMARK_ENABLE_TESTING=ON -DBENCHMARK_ENABLE_GTEST_TESTS=ON -DINCLUDE_UNIT_TESTS=ON",
      "cmake --build /test_workspace/workspace/new/build -- -j 1"
    ],
    "old_test_script": [
      "cd /test_workspace/workspace/old/build",
      "ctest --output-on-failure"
    ],
    "new_test_script": [
      "cd /test_workspace/workspace/new/build",
      "ctest --output-on-failure"
    ],
    "build_system": "cmake"
  },
  "performance_analysis": {
    "is_significant": false,
    "p_value": 1.0,
    "is_pair_significant": false,
    "pair_p_value": 1.0,
    "is_binom_significant": false,
    "binom_p_value": 1.0,
    "is_wilcoxon_significant": false,
    "wilcoxon_p_value": 0.9999991420356624,
    "is_mannwhitney_significant": false,
    "mannwhitney_p_value": 0.9136892871463862,
    "relative_improvement": -0.0006160501601729482,
    "absolute_improvement_ms": -14.999999999997016,
    "old_mean_ms": 24348.666666666668,
    "new_mean_ms": 24363.666666666664,
    "old_std_ms": 44.468767290850785,
    "new_std_ms": 45.824502806591106,
    "effect_size_cohens_d": -0.33221323001585923,
    "old_ci95_ms": [
      24332.061756066196,
      24365.271577267136
    ],
    "new_ci95_ms": [
      24346.555516104792,
      24380.777817228533
    ],
    "old_ci99_ms": [
      24326.287985775303,
      24371.045347558033
    ],
    "new_ci99_ms": [
      24340.6057187747,
      24386.727614558626
    ],
    "new_times_s": [
      24.36,
      24.47,
      24.41,
      24.3,
      24.41,
      24.31,
      24.39,
      24.35,
      24.41,
      24.31,
      24.39,
      24.39,
      24.34,
      24.36,
      24.38,
      24.29,
      24.35,
      24.36,
      24.33,
      24.32,
      24.31,
      24.39,
      24.29,
      24.3,
      24.36,
      24.42,
      24.4,
      24.4,
      24.38,
      24.38,
      24.41
    ],
    "old_times_s": [
      24.41,
      24.42,
      24.32,
      24.37,
      24.35,
      24.37,
      24.33,
      24.33,
      24.35,
      24.39,
      24.32,
      24.3,
      24.32,
      24.33,
      24.4,
      24.41,
      24.3,
      24.48,
      24.34,
      24.36,
      24.34,
      24.33,
      24.29,
      24.3,
      24.33,
      24.38,
      24.37,
      24.41,
      24.31,
      24.29,
      24.32
    ]
  },
  "tests": {
    "total_tests": 10,
    "significant_improvements": 0,
    "significant_improvements_tests": [],
    "significant_regressions": 0,
    "significant_regressions_tests": [],
    "significant_pair_improvements": 0,
    "significant_pair_improvements_tests": [],
    "significant_pair_regressions": 0,
    "significant_pair_regressions_tests": [],
    "significant_binom_improvements": 0,
    "significant_binom_improvements_tests": [],
    "significant_binom_regressions": 0,
    "significant_binom_regressions_tests": [],
    "significant_wilcoxon_improvements": 0,
    "significant_wilcoxon_improvements_tests": [],
    "significant_wilcoxon_regressions": 0,
    "significant_wilcoxon_regressions_tests": [],
    "significant_mannwhitney_improvements": 1,
    "significant_mannwhitney_improvements_tests": [
      "pack_vector2_XX"
    ],
    "significant_mannwhitney_regressions": 0,
    "significant_mannwhitney_regressions_tests": [],
    "tests": [
      {
        "test_name": "scalar",
        "is_significant": false,
        "p_value": 1.0,
        "is_pair_significant": false,
        "pair_p_value": 1.0,
        "is_binom_significant": false,
        "binom_p_value": 1.0,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.9999984705206224,
        "is_mannwhitney_significant": false,
        "mannwhitney_p_value": 0.8916154943170582,
        "relative_improvement": -0.0027386541471048622,
        "absolute_improvement_ms": -2.4999999999999467,
        "old_mean_ms": 912.857142857143,
        "new_mean_ms": 915.357142857143,
        "old_std_ms": 8.099905283919405,
        "new_std_ms": 9.615628812527936,
        "effect_size_cohens_d": -0.2812107713227687,
        "old_ci95_ms": [
          909.7163274727487,
          915.9979582415373
        ],
        "new_ci95_ms": [
          911.6285912449446,
          919.0856944693414
        ],
        "old_ci99_ms": [
          908.6159525701721,
          917.0983331441139
        ],
        "new_ci99_ms": [
          910.3223047827059,
          920.3919809315801
        ],
        "new_times": [
          0.91,
          0.92,
          0.91,
          0.94,
          0.91,
          0.93,
          0.91,
          0.92,
          0.92,
          0.9,
          0.91,
          0.92,
          0.91,
          0.91,
          0.91,
          0.9,
          0.91,
          0.91,
          0.92,
          0.9,
          0.91,
          0.91,
          0.92,
          0.92,
          0.93,
          0.92,
          0.92,
          0.93
        ],
        "old_times": [
          0.92,
          0.91,
          0.9,
          0.91,
          0.91,
          0.91,
          0.92,
          0.91,
          0.91,
          0.91,
          0.93,
          0.92,
          0.94,
          0.91,
          0.92,
          0.91,
          0.91,
          0.91,
          0.91,
          0.91,
          0.91,
          0.9,
          0.91,
          0.91,
          0.92,
          0.91,
          0.91,
          0.91
        ]
      },
      {
        "test_name": "unpack_scalarf_uXX_unsafe",
        "is_significant": false,
        "p_value": 1.0,
        "is_pair_significant": false,
        "pair_p_value": 1.0,
        "is_binom_significant": false,
        "binom_p_value": 1.0,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.9999989906595935,
        "is_mannwhitney_significant": false,
        "mannwhitney_p_value": 0.5261677747613674,
        "relative_improvement": 0.0,
        "absolute_improvement_ms": 0.0,
        "old_mean_ms": 4727.857142857144,
        "new_mean_ms": 4727.857142857144,
        "old_std_ms": 8.325393042503867,
        "new_std_ms": 8.75897121353752,
        "effect_size_cohens_d": 0.0,
        "old_ci95_ms": [
          4724.62889244773,
          4731.085393266559
        ],
        "new_ci95_ms": [
          4724.460768384277,
          4731.253517330011
        ],
        "old_ci99_ms": [
          4723.497884956045,
          4732.216400758243
        ],
        "new_ci99_ms": [
          4723.270859149794,
          4732.443426564494
        ],
        "new_times": [
          4.72,
          4.74,
          4.72,
          4.73,
          4.73,
          4.73,
          4.73,
          4.73,
          4.73,
          4.73,
          4.73,
          4.73,
          4.72,
          4.73,
          4.75,
          4.72,
          4.72,
          4.73,
          4.73,
          4.72,
          4.73,
          4.74,
          4.72,
          4.7,
          4.73,
          4.73,
          4.73,
          4.73
        ],
        "old_times": [
          4.72,
          4.72,
          4.75,
          4.73,
          4.73,
          4.72,
          4.73,
          4.73,
          4.73,
          4.73,
          4.73,
          4.73,
          4.73,
          4.71,
          4.74,
          4.72,
          4.73,
          4.73,
          4.73,
          4.73,
          4.72,
          4.74,
          4.72,
          4.73,
          4.73,
          4.73,
          4.73,
          4.71
        ]
      },
      {
        "test_name": "pack_vector4_64",
        "is_significant": false,
        "p_value": 0.9690199734279272,
        "is_pair_significant": false,
        "pair_p_value": 0.9623564448471906,
        "is_binom_significant": false,
        "binom_p_value": 0.9999999962747097,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.999996441056723,
        "is_mannwhitney_significant": false,
        "mannwhitney_p_value": 0.16745135054973664,
        "relative_improvement": 0.01754385964912282,
        "absolute_improvement_ms": 0.714285714285716,
        "old_mean_ms": 40.714285714285715,
        "new_mean_ms": 40.0,
        "old_std_ms": 3.779644730092272,
        "new_std_ms": 0.0,
        "effect_size_cohens_d": 0.26726124191242495,
        "old_ci95_ms": [
          39.24869248822837,
          42.179878940343066
        ],
        "new_ci95_ms": [
          40.0,
          40.0
        ],
        "old_ci99_ms": [
          38.735226459198806,
          42.693344969372625
        ],
        "new_ci99_ms": [
          40.0,
          40.0
        ],
        "new_times": [
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04
        ],
        "old_times": [
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.06,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04,
          0.04
        ]
      },
      {
        "test_name": "pack_vector4_XX",
        "is_significant": false,
        "p_value": 1.0,
        "is_pair_significant": false,
        "pair_p_value": 1.0,
        "is_binom_significant": false,
        "binom_p_value": 1.0,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.9999984921856454,
        "is_mannwhitney_significant": false,
        "mannwhitney_p_value": 0.6696883763381852,
        "relative_improvement": -0.0002772194885301855,
        "absolute_improvement_ms": -1.4285714285717788,
        "old_mean_ms": 5153.214285714284,
        "new_mean_ms": 5154.642857142856,
        "old_std_ms": 11.23933945224325,
        "new_std_ms": 9.99338405484976,
        "effect_size_cohens_d": -0.13433209885192618,
        "old_ci95_ms": [
          5148.85612484392,
          5157.572446584649
        ],
        "new_ci95_ms": [
          5150.767827339242,
          5158.51788694647
        ],
        "old_ci99_ms": [
          5147.3292567360495,
          5159.099314692519
        ],
        "new_ci99_ms": [
          5149.410222698161,
          5159.875491587551
        ],
        "new_times": [
          5.15,
          5.16,
          5.16,
          5.15,
          5.15,
          5.15,
          5.16,
          5.16,
          5.14,
          5.16,
          5.16,
          5.15,
          5.14,
          5.16,
          5.16,
          5.16,
          5.17,
          5.15,
          5.16,
          5.15,
          5.14,
          5.18,
          5.17,
          5.15,
          5.15,
          5.14,
          5.14,
          5.16
        ],
        "old_times": [
          5.15,
          5.16,
          5.18,
          5.15,
          5.16,
          5.16,
          5.15,
          5.15,
          5.14,
          5.15,
          5.14,
          5.15,
          5.15,
          5.15,
          5.16,
          5.13,
          5.17,
          5.17,
          5.16,
          5.13,
          5.16,
          5.15,
          5.16,
          5.15,
          5.15,
          5.16,
          5.14,
          5.16
        ]
      },
      {
        "test_name": "pack_vector3_48",
        "is_significant": false,
        "p_value": 0.9977549182191583,
        "is_pair_significant": false,
        "pair_p_value": 0.9977549182191582,
        "is_binom_significant": false,
        "binom_p_value": 1.0,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.9999999048408935,
        "is_mannwhitney_significant": false,
        "mannwhitney_p_value": 0.8498322721616629,
        "relative_improvement": -0.023809523809523832,
        "absolute_improvement_ms": -0.714285714285716,
        "old_mean_ms": 30.000000000000004,
        "new_mean_ms": 30.71428571428572,
        "old_std_ms": 3.5331118393247232e-15,
        "new_std_ms": 3.7796447300922735,
        "effect_size_cohens_d": -0.26726124191242495,
        "old_ci95_ms": [
          30.000000000000004,
          30.000000000000004
        ],
        "new_ci95_ms": [
          29.248692488228375,
          32.17987894034306
        ],
        "old_ci99_ms": [
          30.0,
          30.000000000000007
        ],
        "new_ci99_ms": [
          28.735226459198806,
          32.69334496937263
        ],
        "new_times": [
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.05,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03
        ],
        "old_times": [
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03,
          0.03
        ]
      },
      {
        "test_name": "decay_vector3_48",
        "is_significant": false,
        "p_value": 1.0,
        "is_pair_significant": false,
        "pair_p_value": 1.0,
        "is_binom_significant": false,
        "binom_p_value": 1.0,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.9999999393422746,
        "is_mannwhitney_significant": false,
        "mannwhitney_p_value": 1.0,
        "relative_improvement": 0.0,
        "absolute_improvement_ms": 0.0,
        "old_mean_ms": 20.0,
        "new_mean_ms": 20.0,
        "old_std_ms": 0.0,
        "new_std_ms": 0.0,
        "effect_size_cohens_d": "NaN",
        "old_ci95_ms": [
          20.0,
          20.0
        ],
        "new_ci95_ms": [
          20.0,
          20.0
        ],
        "old_ci99_ms": [
          20.0,
          20.0
        ],
        "new_ci99_ms": [
          20.0,
          20.0
        ],
        "new_times": [
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02
        ],
        "old_times": [
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02,
          0.02
        ]
      },
      {
        "test_name": "pack_vector3_32",
        "is_significant": false,
        "p_value": 1.0,
        "is_pair_significant": false,
        "pair_p_value": 1.0,
        "is_binom_significant": false,
        "binom_p_value": 1.0,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.9999999393422746,
        "is_mannwhitney_significant": false,
        "mannwhitney_p_value": 1.0,
        "relative_improvement": 0.0,
        "absolute_improvement_ms": 0.0,
        "old_mean_ms": 10.0,
        "new_mean_ms": 10.0,
        "old_std_ms": 0.0,
        "new_std_ms": 0.0,
        "effect_size_cohens_d": "NaN",
        "old_ci95_ms": [
          10.0,
          10.0
        ],
        "new_ci95_ms": [
          10.0,
          10.0
        ],
        "old_ci99_ms": [
          10.0,
          10.0
        ],
        "new_ci99_ms": [
          10.0,
          10.0
        ],
        "new_times": [
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01
        ],
        "old_times": [
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01
        ]
      },
      {
        "test_name": "pack_vector3_XX",
        "is_significant": false,
        "p_value": 1.0,
        "is_pair_significant": false,
        "pair_p_value": 1.0,
        "is_binom_significant": false,
        "binom_p_value": 1.0,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.9999986759914982,
        "is_mannwhitney_significant": false,
        "mannwhitney_p_value": 0.30177134480773166,
        "relative_improvement": 4.3723492632675994e-05,
        "absolute_improvement_ms": 0.35714285714227856,
        "old_mean_ms": 8168.214285714285,
        "new_mean_ms": 8167.857142857143,
        "old_std_ms": 8.189230248533084,
        "new_std_ms": 11.338934190276577,
        "effect_size_cohens_d": 0.03611052289573529,
        "old_ci95_ms": [
          8165.038833724495,
          8171.389737704075
        ],
        "new_ci95_ms": [
          8163.4603631789705,
          8172.253922535315
        ],
        "old_ci99_ms": [
          8163.9263239949305,
          8172.502247433639
        ],
        "new_ci99_ms": [
          8161.919965091881,
          8173.7943206224045
        ],
        "new_times": [
          8.17,
          8.17,
          8.16,
          8.17,
          8.17,
          8.17,
          8.16,
          8.16,
          8.17,
          8.18,
          8.17,
          8.16,
          8.17,
          8.19,
          8.18,
          8.18,
          8.16,
          8.17,
          8.16,
          8.16,
          8.16,
          8.15,
          8.18,
          8.2,
          8.15,
          8.16,
          8.16,
          8.16
        ],
        "old_times": [
          8.17,
          8.18,
          8.17,
          8.18,
          8.17,
          8.16,
          8.16,
          8.16,
          8.17,
          8.18,
          8.17,
          8.16,
          8.17,
          8.17,
          8.18,
          8.17,
          8.18,
          8.17,
          8.17,
          8.15,
          8.16,
          8.17,
          8.16,
          8.16,
          8.18,
          8.16,
          8.16,
          8.17
        ]
      },
      {
        "test_name": "decay_vector3_XX",
        "is_significant": false,
        "p_value": 1.0,
        "is_pair_significant": false,
        "pair_p_value": 0.9999999999999943,
        "is_binom_significant": false,
        "binom_p_value": 1.0,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.9999997306132129,
        "is_mannwhitney_significant": false,
        "mannwhitney_p_value": 0.15622928202087327,
        "relative_improvement": 0.0031104199066874743,
        "absolute_improvement_ms": 0.7142857142856951,
        "old_mean_ms": 229.6428571428572,
        "new_mean_ms": 228.9285714285715,
        "old_std_ms": 1.8898223650461379,
        "new_std_ms": 3.1497039417435633,
        "effect_size_cohens_d": 0.27500954910845576,
        "old_ci95_ms": [
          228.91006052982854,
          230.37565375588588
        ],
        "new_ci95_ms": [
          227.7072437401904,
          230.14989911695264
        ],
        "old_ci99_ms": [
          228.65332751531375,
          230.63238677040064
        ],
        "new_ci99_ms": [
          227.27935538266576,
          230.57778747447728
        ],
        "new_times": [
          0.23,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23,
          0.22,
          0.23,
          0.22,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23,
          0.22,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23
        ],
        "old_times": [
          0.23,
          0.23,
          0.22,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23,
          0.23
        ]
      },
      {
        "test_name": "pack_vector2_XX",
        "is_significant": false,
        "p_value": 1.0,
        "is_pair_significant": false,
        "pair_p_value": 1.0,
        "is_binom_significant": false,
        "binom_p_value": 1.0,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.9999985203048418,
        "is_mannwhitney_significant": false,
        "mannwhitney_p_value": 0.008191881683725607,
        "relative_improvement": 0.001169419675486015,
        "absolute_improvement_ms": 5.714285714286227,
        "old_mean_ms": 4886.428571428572,
        "new_mean_ms": 4880.714285714285,
        "old_std_ms": 12.236643728386117,
        "new_std_ms": 6.626865315919987,
        "effect_size_cohens_d": 0.5807207021950433,
        "old_ci95_ms": [
          4881.683696330863,
          4891.17344652628
        ],
        "new_ci95_ms": [
          4878.144655600725,
          4883.283915827846
        ],
        "old_ci99_ms": [
          4880.0213440960515,
          4892.835798761092
        ],
        "new_ci99_ms": [
          4877.244393681505,
          4884.184177747065
        ],
        "new_times": [
          4.88,
          4.89,
          4.88,
          4.88,
          4.87,
          4.88,
          4.88,
          4.88,
          4.88,
          4.89,
          4.88,
          4.88,
          4.87,
          4.9,
          4.87,
          4.88,
          4.88,
          4.88,
          4.88,
          4.89,
          4.88,
          4.88,
          4.88,
          4.88,
          4.87,
          4.89,
          4.88,
          4.88
        ],
        "old_times": [
          4.87,
          4.9,
          4.89,
          4.89,
          4.89,
          4.89,
          4.89,
          4.89,
          4.88,
          4.88,
          4.88,
          4.88,
          4.88,
          4.88,
          4.89,
          4.94,
          4.89,
          4.89,
          4.88,
          4.89,
          4.88,
          4.89,
          4.88,
          4.88,
          4.88,
          4.88,
          4.88,
          4.88
        ]
      }
    ]
  },
  "logs": {
    "full_log_path": "/logs/full.log",
    "config_log_path": "/logs/config.log",
    "build_log_path": "/logs/build.log",
    "test_log_path": "/logs/test.log",
    "build_success": true,
    "test_success": true
  },
  "raw_timing_data": {
    "warmup_runs": 1,
    "measurement_runs": 30,
    "min_exec_time_improvement": 0.05,
    "min_p_value": 0.05
  }
}