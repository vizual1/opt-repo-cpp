{
  "metadata": {
    "collection_date": "2026-02-03T20:01:19.919595",
    "repository": "https://github.com/gabime/spdlog",
    "repository_name": "gabime/spdlog"
  },
  "commit_info": {
    "old_sha": "23db7a213dbf8395395b2aa29e9a425ee4094369",
    "new_sha": "d3c1ad29a064d001da2435db56f159784ef54964",
    "commit_message": [
      "Optimize logging for const char* messages"
    ],
    "commit_date": "2018-08-20T09:43:31+00:00",
    "patch": [
      "--- include/spdlog/details/fmt_helper.h\n@@ -22,12 +22,8 @@ inline void append_str(const std::string &str, fmt::basic_memory_buffer<char, Bu\n template<size_t Buffer_Size>\n inline void append_c_str(const char *c_str, fmt::basic_memory_buffer<char, Buffer_Size> &dest)\n {\n-    char ch;\n-    while ((ch = *c_str) != '\\0')\n-    {\n-        dest.push_back(ch);\n-        ++c_str;\n-    }\n+\tauto len = std::char_traits<char>::length(c_str);\n+\tdest.append(c_str, c_str + len);   \n }\n \n template<size_t Buffer_Size1, size_t Buffer_Size2>\n--- include/spdlog/details/logger_impl.h\n@@ -5,9 +5,12 @@\n \n #pragma once\n \n+#include \"spdlog/details/fmt_helper.h\"\n+\n #include <memory>\n #include <string>\n \n+\n // create logger with given name, sinks and the default pattern formatter\n // all other ctors will call this one\n template<typename It>\n@@ -76,8 +79,8 @@ inline void spdlog::logger::log(level::level_enum lvl, const char *msg)\n     }\n     try\n     {\n-        details::log_msg log_msg(&name_, lvl);\n-        fmt::format_to(log_msg.raw, \"{}\", msg);\n+        details::log_msg log_msg(&name_, lvl);        \n+\t\tdetails::fmt_helper::append_c_str(msg, log_msg.raw);\n         sink_it_(log_msg);\n     }\n     SPDLOG_CATCH_AND_HANDLE"
    ],
    "files_changed": [
      {
        "filename": "include/spdlog/details/fmt_helper.h",
        "status": "modified",
        "additions": 2,
        "deletions": 6,
        "changes": 8,
        "patch": "@@ -22,12 +22,8 @@ inline void append_str(const std::string &str, fmt::basic_memory_buffer<char, Bu\n template<size_t Buffer_Size>\n inline void append_c_str(const char *c_str, fmt::basic_memory_buffer<char, Buffer_Size> &dest)\n {\n-    char ch;\n-    while ((ch = *c_str) != '\\0')\n-    {\n-        dest.push_back(ch);\n-        ++c_str;\n-    }\n+\tauto len = std::char_traits<char>::length(c_str);\n+\tdest.append(c_str, c_str + len);   \n }\n \n template<size_t Buffer_Size1, size_t Buffer_Size2>"
      },
      {
        "filename": "include/spdlog/details/logger_impl.h",
        "status": "modified",
        "additions": 5,
        "deletions": 2,
        "changes": 7,
        "patch": "@@ -5,9 +5,12 @@\n \n #pragma once\n \n+#include \"spdlog/details/fmt_helper.h\"\n+\n #include <memory>\n #include <string>\n \n+\n // create logger with given name, sinks and the default pattern formatter\n // all other ctors will call this one\n template<typename It>\n@@ -76,8 +79,8 @@ inline void spdlog::logger::log(level::level_enum lvl, const char *msg)\n     }\n     try\n     {\n-        details::log_msg log_msg(&name_, lvl);\n-        fmt::format_to(log_msg.raw, \"{}\", msg);\n+        details::log_msg log_msg(&name_, lvl);        \n+\t\tdetails::fmt_helper::append_c_str(msg, log_msg.raw);\n         sink_it_(log_msg);\n     }\n     SPDLOG_CATCH_AND_HANDLE"
      }
    ],
    "lines_added": 7,
    "lines_removed": 8
  },
  "issues": [],
  "pull_requests": [],
  "build_info": {
    "old_build_script": [
      "apt-get update",
      "cmake -S /test_workspace/workspace/old -B /test_workspace/workspace/old/build -DCMAKE_BUILD_TYPE=Debug -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -DBUILD_TESTING=ON -DSPDLOG_BUILD_TESTING=ON",
      "cmake --build /test_workspace/workspace/old/build -- -j 1"
    ],
    "new_build_script": [
      "apt-get update",
      "cmake -S /test_workspace/workspace/new -B /test_workspace/workspace/new/build -DCMAKE_BUILD_TYPE=Debug -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -DBUILD_TESTING=ON -DSPDLOG_BUILD_TESTING=ON",
      "cmake --build /test_workspace/workspace/new/build -- -j 1"
    ],
    "old_test_script": [
      "cd /test_workspace/workspace/old/build",
      "ctest --output-on-failure"
    ],
    "new_test_script": [
      "cd /test_workspace/workspace/new/build",
      "ctest --output-on-failure"
    ],
    "build_system": "cmake"
  },
  "performance_analysis": {
    "is_significant": false,
    "p_value": 1.0,
    "is_pair_significant": false,
    "pair_p_value": 1.0,
    "is_binom_significant": false,
    "binom_p_value": 1.0,
    "is_wilcoxon_significant": false,
    "wilcoxon_p_value": 0.9999994067260167,
    "is_mannwhitney_significant": false,
    "mannwhitney_p_value": 0.22693200848670236,
    "relative_improvement": 0.0004231460911880488,
    "absolute_improvement_ms": 1.3333333333331865,
    "old_mean_ms": 3151.000000000001,
    "new_mean_ms": 3149.6666666666674,
    "old_std_ms": 5.477225575051695,
    "new_std_ms": 8.502873077655146,
    "effect_size_cohens_d": 0.18643109801507984,
    "old_ci95_ms": [
      3148.954770357868,
      3153.0452296421336
    ],
    "new_ci95_ms": [
      3146.491641679396,
      3152.841691653939
    ],
    "old_ci99_ms": [
      3148.24361409633,
      3153.7563859036713
    ],
    "new_ci99_ms": [
      3145.3876390511714,
      3153.9456942821635
    ],
    "new_times_s": [
      3.15,
      3.14,
      3.15,
      3.16,
      3.15,
      3.16,
      3.16,
      3.15,
      3.14,
      3.14,
      3.15,
      3.14,
      3.15,
      3.14,
      3.13,
      3.15,
      3.16,
      3.15,
      3.15,
      3.14,
      3.15,
      3.14,
      3.16,
      3.16,
      3.15,
      3.15,
      3.17,
      3.15,
      3.15,
      3.15,
      3.15
    ],
    "old_times_s": [
      3.15,
      3.15,
      3.15,
      3.15,
      3.15,
      3.15,
      3.16,
      3.15,
      3.16,
      3.14,
      3.15,
      3.15,
      3.16,
      3.15,
      3.15,
      3.15,
      3.15,
      3.16,
      3.15,
      3.14,
      3.15,
      3.15,
      3.15,
      3.16,
      3.15,
      3.16,
      3.15,
      3.14,
      3.15,
      3.15,
      3.15
    ]
  },
  "tests": {
    "total_tests": 2,
    "significant_improvements": 0,
    "significant_improvements_tests": [],
    "significant_regressions": 0,
    "significant_regressions_tests": [],
    "significant_pair_improvements": 0,
    "significant_pair_improvements_tests": [],
    "significant_pair_regressions": 0,
    "significant_pair_regressions_tests": [],
    "significant_binom_improvements": 0,
    "significant_binom_improvements_tests": [],
    "significant_binom_regressions": 0,
    "significant_binom_regressions_tests": [],
    "significant_wilcoxon_improvements": 0,
    "significant_wilcoxon_improvements_tests": [],
    "significant_wilcoxon_regressions": 0,
    "significant_wilcoxon_regressions_tests": [],
    "significant_mannwhitney_improvements": 0,
    "significant_mannwhitney_improvements_tests": [],
    "significant_mannwhitney_regressions": 0,
    "significant_mannwhitney_regressions_tests": [],
    "tests": [
      {
        "test_name": "example",
        "is_significant": false,
        "p_value": 1.0,
        "is_pair_significant": false,
        "pair_p_value": 1.0,
        "is_binom_significant": false,
        "binom_p_value": 1.0,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.9999999393422746,
        "is_mannwhitney_significant": false,
        "mannwhitney_p_value": 1.0,
        "relative_improvement": 0.0,
        "absolute_improvement_ms": 0.0,
        "old_mean_ms": 10.0,
        "new_mean_ms": 10.0,
        "old_std_ms": 0.0,
        "new_std_ms": 0.0,
        "effect_size_cohens_d": "NaN",
        "old_ci95_ms": [
          10.0,
          10.0
        ],
        "new_ci95_ms": [
          10.0,
          10.0
        ],
        "old_ci99_ms": [
          10.0,
          10.0
        ],
        "new_ci99_ms": [
          10.0,
          10.0
        ],
        "new_times": [
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01
        ],
        "old_times": [
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01,
          0.01
        ]
      },
      {
        "test_name": "spdlog-utests",
        "is_significant": false,
        "p_value": 1.0,
        "is_pair_significant": false,
        "pair_p_value": 1.0,
        "is_binom_significant": false,
        "binom_p_value": 1.0,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.9999983595115509,
        "is_mannwhitney_significant": false,
        "mannwhitney_p_value": 0.1000410110811234,
        "relative_improvement": 0.0005680527152919469,
        "absolute_improvement_ms": 1.7857142857149455,
        "old_mean_ms": 3143.5714285714294,
        "new_mean_ms": 3141.785714285714,
        "old_std_ms": 6.214848238238644,
        "new_std_ms": 9.048663264720755,
        "effect_size_cohens_d": 0.23005341267435964,
        "old_ci95_ms": [
          3141.161562002114,
          3145.9812951407444
        ],
        "new_ci95_ms": [
          3138.2770089621517,
          3145.2944196092762
        ],
        "old_ci99_ms": [
          3140.3172727437873,
          3146.825584399071
        ],
        "new_ci99_ms": [
          3137.0477449634564,
          3146.523683607972
        ],
        "new_times": [
          3.15,
          3.14,
          3.15,
          3.14,
          3.14,
          3.13,
          3.13,
          3.14,
          3.14,
          3.14,
          3.13,
          3.13,
          3.14,
          3.15,
          3.14,
          3.14,
          3.14,
          3.15,
          3.13,
          3.15,
          3.16,
          3.14,
          3.14,
          3.17,
          3.14,
          3.14,
          3.14,
          3.14
        ],
        "old_times": [
          3.14,
          3.14,
          3.14,
          3.15,
          3.14,
          3.16,
          3.14,
          3.15,
          3.14,
          3.15,
          3.14,
          3.14,
          3.14,
          3.15,
          3.15,
          3.14,
          3.14,
          3.14,
          3.14,
          3.14,
          3.15,
          3.14,
          3.15,
          3.14,
          3.13,
          3.14,
          3.15,
          3.15
        ]
      }
    ]
  },
  "logs": {
    "full_log_path": "/logs/full.log",
    "config_log_path": "/logs/config.log",
    "build_log_path": "/logs/build.log",
    "test_log_path": "/logs/test.log",
    "build_success": true,
    "test_success": true
  },
  "raw_timing_data": {
    "warmup_runs": 1,
    "measurement_runs": 30,
    "min_exec_time_improvement": 0.05,
    "min_p_value": 0.05
  }
}