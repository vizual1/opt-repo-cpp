{
  "metadata": {
    "collection_date": "2026-02-03T20:00:26.870521",
    "repository": "https://github.com/ERGO-Code/HiGHS",
    "repository_name": "ERGO-Code/HiGHS"
  },
  "commit_info": {
    "old_sha": "c90a2283ea357f83a1613e613bdc21a0f0a18248",
    "new_sha": "3a782e7492ae57cabccd63ce926923e43a726043",
    "commit_message": [
      "Skip part of HPresolve::transformColumn() when constant is zero"
    ],
    "commit_date": "2025-02-17T08:22:36+00:00",
    "patch": [
      "--- src/presolve/HPresolve.cpp\n@@ -2313,28 +2313,32 @@ void HPresolve::transformColumn(HighsPostsolveStack& postsolve_stack,\n   // a * ub --> (a * scale) * (ub - constant) / scale = a * (ub - constant).\n   // therefore, for now the scaling can be neglected and the bounds on\n   // constraint activities can be updated using the constant term.\n-  double oldLower = model->col_lower_[col];\n-  double oldUpper = model->col_upper_[col];\n-  model->col_upper_[col] -= constant;\n-  model->col_lower_[col] -= constant;\n-\n-  for (const HighsSliceNonzero& nonzero : getColumnVector(col)) {\n-    impliedRowBounds.updatedVarLower(nonzero.index(), col, nonzero.value(),\n-                                     oldLower);\n-    impliedRowBounds.updatedVarUpper(nonzero.index(), col, nonzero.value(),\n-                                     oldUpper);\n-  }\n-\n-  double oldImplLower = implColLower[col];\n-  double oldImplUpper = implColUpper[col];\n-  implColLower[col] -= constant;\n-  implColUpper[col] -= constant;\n+  if (constant != 0.0) {\n+    double oldLower = model->col_lower_[col];\n+    double oldUpper = model->col_upper_[col];\n+    model->col_upper_[col] -= constant;\n+    model->col_lower_[col] -= constant;\n+\n+    for (const HighsSliceNonzero& nonzero : getColumnVector(col)) {\n+      impliedRowBounds.updatedVarLower(nonzero.index(), col, nonzero.value(),\n+                                       oldLower);\n+      impliedRowBounds.updatedVarUpper(nonzero.index(), col, nonzero.value(),\n+                                       oldUpper);\n+    }\n \n-  for (const HighsSliceNonzero& nonzero : getColumnVector(col)) {\n-    impliedRowBounds.updatedImplVarLower(nonzero.index(), col, nonzero.value(),\n-                                         oldImplLower, colLowerSource[col]);\n-    impliedRowBounds.updatedImplVarUpper(nonzero.index(), col, nonzero.value(),\n-                                         oldImplUpper, colUpperSource[col]);\n+    double oldImplLower = implColLower[col];\n+    double oldImplUpper = implColUpper[col];\n+    implColLower[col] -= constant;\n+    implColUpper[col] -= constant;\n+\n+    for (const HighsSliceNonzero& nonzero : getColumnVector(col)) {\n+      impliedRowBounds.updatedImplVarLower(nonzero.index(), col,\n+                                           nonzero.value(), oldImplLower,\n+                                           colLowerSource[col]);\n+      impliedRowBounds.updatedImplVarUpper(nonzero.index(), col,\n+                                           nonzero.value(), oldImplUpper,\n+                                           colUpperSource[col]);\n+    }\n   }\n \n   // now apply the scaling, which does not change the contributions to the"
    ],
    "files_changed": [
      {
        "filename": "src/presolve/HPresolve.cpp",
        "status": "modified",
        "additions": 25,
        "deletions": 21,
        "changes": 46,
        "patch": "@@ -2313,28 +2313,32 @@ void HPresolve::transformColumn(HighsPostsolveStack& postsolve_stack,\n   // a * ub --> (a * scale) * (ub - constant) / scale = a * (ub - constant).\n   // therefore, for now the scaling can be neglected and the bounds on\n   // constraint activities can be updated using the constant term.\n-  double oldLower = model->col_lower_[col];\n-  double oldUpper = model->col_upper_[col];\n-  model->col_upper_[col] -= constant;\n-  model->col_lower_[col] -= constant;\n-\n-  for (const HighsSliceNonzero& nonzero : getColumnVector(col)) {\n-    impliedRowBounds.updatedVarLower(nonzero.index(), col, nonzero.value(),\n-                                     oldLower);\n-    impliedRowBounds.updatedVarUpper(nonzero.index(), col, nonzero.value(),\n-                                     oldUpper);\n-  }\n-\n-  double oldImplLower = implColLower[col];\n-  double oldImplUpper = implColUpper[col];\n-  implColLower[col] -= constant;\n-  implColUpper[col] -= constant;\n+  if (constant != 0.0) {\n+    double oldLower = model->col_lower_[col];\n+    double oldUpper = model->col_upper_[col];\n+    model->col_upper_[col] -= constant;\n+    model->col_lower_[col] -= constant;\n+\n+    for (const HighsSliceNonzero& nonzero : getColumnVector(col)) {\n+      impliedRowBounds.updatedVarLower(nonzero.index(), col, nonzero.value(),\n+                                       oldLower);\n+      impliedRowBounds.updatedVarUpper(nonzero.index(), col, nonzero.value(),\n+                                       oldUpper);\n+    }\n \n-  for (const HighsSliceNonzero& nonzero : getColumnVector(col)) {\n-    impliedRowBounds.updatedImplVarLower(nonzero.index(), col, nonzero.value(),\n-                                         oldImplLower, colLowerSource[col]);\n-    impliedRowBounds.updatedImplVarUpper(nonzero.index(), col, nonzero.value(),\n-                                         oldImplUpper, colUpperSource[col]);\n+    double oldImplLower = implColLower[col];\n+    double oldImplUpper = implColUpper[col];\n+    implColLower[col] -= constant;\n+    implColUpper[col] -= constant;\n+\n+    for (const HighsSliceNonzero& nonzero : getColumnVector(col)) {\n+      impliedRowBounds.updatedImplVarLower(nonzero.index(), col,\n+                                           nonzero.value(), oldImplLower,\n+                                           colLowerSource[col]);\n+      impliedRowBounds.updatedImplVarUpper(nonzero.index(), col,\n+                                           nonzero.value(), oldImplUpper,\n+                                           colUpperSource[col]);\n+    }\n   }\n \n   // now apply the scaling, which does not change the contributions to the"
      }
    ],
    "lines_added": 25,
    "lines_removed": 21
  },
  "issues": [],
  "pull_requests": [],
  "build_info": {
    "old_build_script": [
      "apt-get update",
      "cmake -S /test_workspace/workspace/old -B /test_workspace/workspace/old/build -DCMAKE_BUILD_TYPE=Debug -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -DBUILD_TESTING=ON -DBUILD_EXTRA_UNIT_TESTS=ON",
      "cmake --build /test_workspace/workspace/old/build -- -j 1"
    ],
    "new_build_script": [
      "apt-get update",
      "cmake -S /test_workspace/workspace/new -B /test_workspace/workspace/new/build -DCMAKE_BUILD_TYPE=Debug -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -DBUILD_TESTING=ON -DBUILD_EXTRA_UNIT_TESTS=ON",
      "cmake --build /test_workspace/workspace/new/build -- -j 1"
    ],
    "old_test_script": [
      "cd /test_workspace/workspace/old/build",
      "ctest --output-on-failure"
    ],
    "new_test_script": [
      "cd /test_workspace/workspace/new/build",
      "ctest --output-on-failure"
    ],
    "build_system": "cmake"
  },
  "performance_analysis": {
    "is_significant": false,
    "p_value": 0.45298176901890946,
    "is_pair_significant": false,
    "pair_p_value": 0.45634678979630544,
    "is_binom_significant": false,
    "binom_p_value": 0.707667644135654,
    "is_wilcoxon_significant": false,
    "wilcoxon_p_value": 0.4794929189509629,
    "is_mannwhitney_significant": false,
    "mannwhitney_p_value": 0.18533229559310632,
    "relative_improvement": 0.05652477320307052,
    "absolute_improvement_ms": 26.999999999999968,
    "old_mean_ms": 477.6666666666667,
    "new_mean_ms": 450.66666666666674,
    "old_std_ms": 83.32252803510538,
    "new_std_ms": 120.02681692692343,
    "effect_size_cohens_d": 0.2613299437625491,
    "old_ci95_ms": [
      446.5535233681595,
      508.7798099651739
    ],
    "new_ci95_ms": [
      405.84791665061255,
      495.4854166827209
    ],
    "old_ci99_ms": [
      435.7350283605386,
      519.5983049727948
    ],
    "new_ci99_ms": [
      390.2637817194512,
      511.06955161388225
    ],
    "new_times_s": [
      0.49,
      0.47,
      0.45,
      0.64,
      0.47,
      0.43,
      0.65,
      0.46,
      0.54,
      0.41,
      0.33,
      0.46,
      0.3,
      0.53,
      0.42,
      0.52,
      0.4,
      0.53,
      0.45,
      0.1,
      0.51,
      0.37,
      0.57,
      0.47,
      0.62,
      0.44,
      0.5,
      0.56,
      0.42,
      0.23,
      0.27
    ],
    "old_times_s": [
      0.58,
      0.42,
      0.6,
      0.43,
      0.46,
      0.52,
      0.51,
      0.28,
      0.44,
      0.63,
      0.53,
      0.32,
      0.47,
      0.55,
      0.56,
      0.48,
      0.49,
      0.3,
      0.54,
      0.49,
      0.4,
      0.52,
      0.53,
      0.55,
      0.49,
      0.43,
      0.59,
      0.43,
      0.41,
      0.5,
      0.46
    ]
  },
  "tests": {
    "total_tests": 2,
    "significant_improvements": 0,
    "significant_improvements_tests": [],
    "significant_regressions": 0,
    "significant_regressions_tests": [],
    "significant_pair_improvements": 0,
    "significant_pair_improvements_tests": [],
    "significant_pair_regressions": 0,
    "significant_pair_regressions_tests": [],
    "significant_binom_improvements": 0,
    "significant_binom_improvements_tests": [],
    "significant_binom_regressions": 0,
    "significant_binom_regressions_tests": [],
    "significant_wilcoxon_improvements": 0,
    "significant_wilcoxon_improvements_tests": [],
    "significant_wilcoxon_regressions": 0,
    "significant_wilcoxon_regressions_tests": [],
    "significant_mannwhitney_improvements": 0,
    "significant_mannwhitney_improvements_tests": [],
    "significant_mannwhitney_regressions": 0,
    "significant_mannwhitney_regressions_tests": [],
    "tests": [
      {
        "test_name": "cxx_examples_call_highs_from_cpp",
        "is_significant": false,
        "p_value": 0.5987444806635919,
        "is_pair_significant": false,
        "pair_p_value": 0.5916102151355079,
        "is_binom_significant": false,
        "binom_p_value": 0.7142059057950974,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.6506780995775434,
        "is_mannwhitney_significant": false,
        "mannwhitney_p_value": 0.38996207925742615,
        "relative_improvement": 0.029641185647425957,
        "absolute_improvement_ms": 6.785714285714311,
        "old_mean_ms": 228.92857142857142,
        "new_mean_ms": 222.1428571428571,
        "old_std_ms": 67.56830758925513,
        "new_std_ms": 74.20477886463382,
        "effect_size_cohens_d": 0.09562170281740327,
        "old_ci95_ms": [
          202.72831691508603,
          255.12882594205684
        ],
        "new_ci95_ms": [
          193.36924771358264,
          250.91646657213158
        ],
        "old_ci99_ms": [
          193.54913922415628,
          264.3080036329866
        ],
        "new_ci99_ms": [
          183.28850313055662,
          260.99721115515763
        ],
        "new_times": [
          0.37,
          0.21,
          0.16,
          0.31,
          0.19,
          0.28,
          0.24,
          0.26,
          0.21,
          0.08,
          0.28,
          0.15,
          0.26,
          0.22,
          0.27,
          0.16,
          0.05,
          0.27,
          0.24,
          0.28,
          0.21,
          0.32,
          0.19,
          0.24,
          0.26,
          0.26,
          0.08,
          0.17
        ],
        "old_times": [
          0.2,
          0.32,
          0.23,
          0.24,
          0.05,
          0.25,
          0.35,
          0.28,
          0.07,
          0.24,
          0.28,
          0.25,
          0.21,
          0.16,
          0.11,
          0.21,
          0.3,
          0.24,
          0.24,
          0.26,
          0.25,
          0.22,
          0.27,
          0.27,
          0.25,
          0.16,
          0.25,
          0.25
        ]
      },
      {
        "test_name": "c_examples_call_highs_from_c_minimal",
        "is_significant": false,
        "p_value": 0.34768112973809023,
        "is_pair_significant": false,
        "pair_p_value": 0.3444010947487788,
        "is_binom_significant": false,
        "binom_p_value": 0.5747229903936386,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.3922971576827355,
        "is_mannwhitney_significant": false,
        "mannwhitney_p_value": 0.2526309482326636,
        "relative_improvement": 0.07737226277372265,
        "absolute_improvement_ms": 18.928571428571434,
        "old_mean_ms": 244.64285714285717,
        "new_mean_ms": 225.71428571428572,
        "old_std_ms": 53.574603080546424,
        "new_std_ms": 74.15841759012189,
        "effect_size_cohens_d": 0.29260224701163307,
        "old_ci95_ms": [
          223.8687947717509,
          265.4169195139634
        ],
        "new_ci95_ms": [
          196.95865331055947,
          254.469918118012
        ],
        "old_ci99_ms": [
          216.5906666234655,
          272.69504766224884
        ],
        "new_ci99_ms": [
          186.88420692252907,
          264.54436450604237
        ],
        "new_times": [
          0.26,
          0.26,
          0.27,
          0.34,
          0.26,
          0.26,
          0.17,
          0.06,
          0.25,
          0.22,
          0.24,
          0.27,
          0.26,
          0.18,
          0.26,
          0.28,
          0.05,
          0.24,
          0.13,
          0.29,
          0.26,
          0.31,
          0.24,
          0.26,
          0.3,
          0.16,
          0.15,
          0.09
        ],
        "old_times": [
          0.23,
          0.13,
          0.29,
          0.27,
          0.23,
          0.19,
          0.28,
          0.25,
          0.25,
          0.22,
          0.26,
          0.31,
          0.27,
          0.33,
          0.19,
          0.33,
          0.19,
          0.16,
          0.28,
          0.26,
          0.3,
          0.27,
          0.16,
          0.32,
          0.18,
          0.24,
          0.25,
          0.21
        ]
      }
    ]
  },
  "logs": {
    "full_log_path": "/logs/full.log",
    "config_log_path": "/logs/config.log",
    "build_log_path": "/logs/build.log",
    "test_log_path": "/logs/test.log",
    "build_success": true,
    "test_success": true
  },
  "raw_timing_data": {
    "warmup_runs": 1,
    "measurement_runs": 30,
    "min_exec_time_improvement": 0.05,
    "min_p_value": 0.05
  }
}