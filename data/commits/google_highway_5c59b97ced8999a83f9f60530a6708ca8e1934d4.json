{
  "metadata": {
    "collection_date": "2026-02-03T20:01:35.539861",
    "repository": "https://github.com/google/highway",
    "repository_name": "google/highway"
  },
  "commit_info": {
    "old_sha": "f61c3aa5395a819f8255fb3306007ce595e495cc",
    "new_sha": "5c59b97ced8999a83f9f60530a6708ca8e1934d4",
    "commit_message": [
      "1.03x SVE Partition u128 speedup: instruction tuning (use imm form)\n\nPiperOrigin-RevId: 457393409"
    ],
    "commit_date": "2022-06-27T05:14:27+00:00",
    "patch": [
      "--- hwy/ops/arm_sve-inl.h\n@@ -857,22 +857,12 @@ HWY_API svbool_t MaskFromVec(const V v) {\n }\n \n // ------------------------------ VecFromMask\n-\n-template <class D, HWY_IF_LANE_SIZE_D(D, 1)>\n-HWY_API VFromD<D> VecFromMask(const D d, svbool_t mask) {\n-  return BitCast(d, svdup_n_s8_z(mask, -1));\n-}\n-template <class D, HWY_IF_LANE_SIZE_D(D, 2)>\n-HWY_API VFromD<D> VecFromMask(const D d, svbool_t mask) {\n-  return BitCast(d, svdup_n_s16_z(mask, -1));\n-}\n-template <class D, HWY_IF_LANE_SIZE_D(D, 4)>\n-HWY_API VFromD<D> VecFromMask(const D d, svbool_t mask) {\n-  return BitCast(d, svdup_n_s32_z(mask, -1));\n-}\n-template <class D, HWY_IF_LANE_SIZE_D(D, 8)>\n+template <class D>\n HWY_API VFromD<D> VecFromMask(const D d, svbool_t mask) {\n-  return BitCast(d, svdup_n_s64_z(mask, -1));\n+  const RebindToSigned<D> di;\n+  // This generates MOV imm, whereas svdup_n_s8_z generates MOV scalar, which\n+  // requires an extra instruction plus M0 pipeline.\n+  return BitCast(d, IfThenElseZero(mask, Set(di, -1)));\n }\n \n // ------------------------------ IfVecThenElse (MaskFromVec, IfThenElse)"
    ],
    "files_changed": [
      {
        "filename": "hwy/ops/arm_sve-inl.h",
        "status": "modified",
        "additions": 5,
        "deletions": 15,
        "changes": 20,
        "patch": "@@ -857,22 +857,12 @@ HWY_API svbool_t MaskFromVec(const V v) {\n }\n \n // ------------------------------ VecFromMask\n-\n-template <class D, HWY_IF_LANE_SIZE_D(D, 1)>\n-HWY_API VFromD<D> VecFromMask(const D d, svbool_t mask) {\n-  return BitCast(d, svdup_n_s8_z(mask, -1));\n-}\n-template <class D, HWY_IF_LANE_SIZE_D(D, 2)>\n-HWY_API VFromD<D> VecFromMask(const D d, svbool_t mask) {\n-  return BitCast(d, svdup_n_s16_z(mask, -1));\n-}\n-template <class D, HWY_IF_LANE_SIZE_D(D, 4)>\n-HWY_API VFromD<D> VecFromMask(const D d, svbool_t mask) {\n-  return BitCast(d, svdup_n_s32_z(mask, -1));\n-}\n-template <class D, HWY_IF_LANE_SIZE_D(D, 8)>\n+template <class D>\n HWY_API VFromD<D> VecFromMask(const D d, svbool_t mask) {\n-  return BitCast(d, svdup_n_s64_z(mask, -1));\n+  const RebindToSigned<D> di;\n+  // This generates MOV imm, whereas svdup_n_s8_z generates MOV scalar, which\n+  // requires an extra instruction plus M0 pipeline.\n+  return BitCast(d, IfThenElseZero(mask, Set(di, -1)));\n }\n \n // ------------------------------ IfVecThenElse (MaskFromVec, IfThenElse)"
      }
    ],
    "lines_added": 5,
    "lines_removed": 15
  },
  "issues": [],
  "pull_requests": [],
  "build_info": {
    "old_build_script": [
      "apt-get update",
      "cmake -S /test_workspace/workspace/old -B /test_workspace/workspace/old/build -DCMAKE_BUILD_TYPE=Debug -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -DBUILD_TESTING=ON",
      "cmake --build /test_workspace/workspace/old/build -- -j 1"
    ],
    "new_build_script": [
      "apt-get update",
      "cmake -S /test_workspace/workspace/new -B /test_workspace/workspace/new/build -DCMAKE_BUILD_TYPE=Debug -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -DBUILD_TESTING=ON",
      "cmake --build /test_workspace/workspace/new/build -- -j 1"
    ],
    "old_test_script": [
      "cd /test_workspace/workspace/old/build",
      "ctest --output-on-failure"
    ],
    "new_test_script": [
      "cd /test_workspace/workspace/new/build",
      "ctest --output-on-failure"
    ],
    "build_system": "cmake"
  },
  "performance_analysis": {
    "is_significant": false,
    "p_value": 1.0,
    "is_pair_significant": false,
    "pair_p_value": 0.9999999999998201,
    "is_binom_significant": false,
    "binom_p_value": 1.0,
    "is_wilcoxon_significant": false,
    "wilcoxon_p_value": 0.9999991349814353,
    "is_mannwhitney_significant": false,
    "mannwhitney_p_value": 0.12741716729359198,
    "relative_improvement": 0.004228746713409181,
    "absolute_improvement_ms": 64.33333333333202,
    "old_mean_ms": 15213.333333333332,
    "new_mean_ms": 15149.0,
    "old_std_ms": 174.9351275489708,
    "new_std_ms": 246.00742910004524,
    "effect_size_cohens_d": 0.301397426690966,
    "old_ci95_ms": [
      15148.011483171986,
      15278.65518349468
    ],
    "new_ci95_ms": [
      15057.13931628596,
      15240.860683714041
    ],
    "old_ci99_ms": [
      15125.298120427535,
      15301.368546239131
    ],
    "new_ci99_ms": [
      15025.198012939582,
      15272.80198706042
    ],
    "new_times_s": [
      15.01,
      15.31,
      15.04,
      15.22,
      15.28,
      15.5,
      14.87,
      15.5,
      15.2,
      14.97,
      15.26,
      15.34,
      15.0,
      15.35,
      15.11,
      14.97,
      14.94,
      15.48,
      15.62,
      15.14,
      14.78,
      14.95,
      14.91,
      15.12,
      15.3,
      14.72,
      15.47,
      14.87,
      14.8,
      15.05,
      15.4
    ],
    "old_times_s": [
      15.24,
      15.08,
      15.04,
      15.53,
      15.0,
      15.02,
      15.1,
      15.34,
      15.25,
      15.41,
      15.54,
      15.06,
      15.15,
      14.89,
      15.29,
      15.14,
      15.24,
      15.34,
      15.01,
      15.18,
      15.48,
      15.4,
      15.0,
      15.17,
      15.16,
      15.03,
      15.41,
      15.24,
      15.21,
      15.26,
      15.43
    ]
  },
  "tests": {
    "total_tests": 1,
    "significant_improvements": 0,
    "significant_improvements_tests": [],
    "significant_regressions": 0,
    "significant_regressions_tests": [],
    "significant_pair_improvements": 0,
    "significant_pair_improvements_tests": [],
    "significant_pair_regressions": 0,
    "significant_pair_regressions_tests": [],
    "significant_binom_improvements": 0,
    "significant_binom_improvements_tests": [],
    "significant_binom_regressions": 0,
    "significant_binom_regressions_tests": [],
    "significant_wilcoxon_improvements": 0,
    "significant_wilcoxon_improvements_tests": [],
    "significant_wilcoxon_regressions": 0,
    "significant_wilcoxon_regressions_tests": [],
    "significant_mannwhitney_improvements": 0,
    "significant_mannwhitney_improvements_tests": [],
    "significant_mannwhitney_regressions": 0,
    "significant_mannwhitney_regressions_tests": [],
    "tests": [
      {
        "test_name": "NanobenchmarkTest.RunAll",
        "is_significant": false,
        "p_value": 0.6372838924528278,
        "is_pair_significant": false,
        "pair_p_value": 0.6193244363441444,
        "is_binom_significant": false,
        "binom_p_value": 0.4252770096063614,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.6017188690602779,
        "is_mannwhitney_significant": false,
        "mannwhitney_p_value": 0.3259361803829429,
        "relative_improvement": 0.026269702276707593,
        "absolute_improvement_ms": 10.714285714285731,
        "old_mean_ms": 407.8571428571429,
        "new_mean_ms": 397.1428571428571,
        "old_std_ms": 101.52019112644147,
        "new_std_ms": 108.34981559597848,
        "effect_size_cohens_d": 0.10204999951330986,
        "old_ci95_ms": [
          368.4917222824617,
          447.222563431824
        ],
        "new_ci95_ms": [
          355.12918466254655,
          439.1565296231677
        ],
        "old_ci99_ms": [
          354.7001696031854,
          461.01411611110035
        ],
        "new_ci99_ms": [
          340.409825163699,
          453.8758891220153
        ],
        "new_times": [
          0.54,
          0.5,
          0.25,
          0.37,
          0.34,
          0.37,
          0.49,
          0.29,
          0.58,
          0.43,
          0.45,
          0.52,
          0.33,
          0.36,
          0.5,
          0.36,
          0.36,
          0.25,
          0.18,
          0.26,
          0.41,
          0.45,
          0.43,
          0.43,
          0.37,
          0.23,
          0.47,
          0.6
        ],
        "old_times": [
          0.41,
          0.37,
          0.43,
          0.34,
          0.42,
          0.46,
          0.2,
          0.42,
          0.26,
          0.56,
          0.4,
          0.45,
          0.44,
          0.53,
          0.28,
          0.34,
          0.43,
          0.54,
          0.49,
          0.42,
          0.27,
          0.49,
          0.19,
          0.57,
          0.45,
          0.38,
          0.36,
          0.52
        ]
      }
    ]
  },
  "logs": {
    "full_log_path": "/logs/full.log",
    "config_log_path": "/logs/config.log",
    "build_log_path": "/logs/build.log",
    "test_log_path": "/logs/test.log",
    "build_success": true,
    "test_success": true
  },
  "raw_timing_data": {
    "warmup_runs": 1,
    "measurement_runs": 30,
    "min_exec_time_improvement": 0.05,
    "min_p_value": 0.05
  }
}