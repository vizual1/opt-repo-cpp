{
  "metadata": {
    "collection_date": "2026-02-03T20:00:37.676928",
    "repository": "https://github.com/ERGO-Code/HiGHS",
    "repository_name": "ERGO-Code/HiGHS"
  },
  "commit_info": {
    "old_sha": "957c7ead141fd9db75061c0d62551064cfd2dc78",
    "new_sha": "fb1da5312c85047ede52539f0544bcd31d77fc97",
    "commit_message": [
      "Do not call RENS/RINS when domain in already infeasible"
    ],
    "commit_date": "2025-03-03T14:40:00+00:00",
    "patch": [
      "--- src/mip/HighsMipSolver.cpp\n@@ -256,16 +256,19 @@ void HighsMipSolver::run() {\n             analysis_.mipTimerStop(kMipClockRandomizedRounding0);\n           }\n \n-          if (mipdata_->incumbent.empty()) {\n-            analysis_.mipTimerStart(kMipClockRens);\n-            mipdata_->heuristics.RENS(\n-                mipdata_->lp.getLpSolver().getSolution().col_value);\n-            analysis_.mipTimerStop(kMipClockRens);\n-          } else {\n-            analysis_.mipTimerStart(kMipClockRins);\n-            mipdata_->heuristics.RINS(\n-                mipdata_->lp.getLpSolver().getSolution().col_value);\n-            analysis_.mipTimerStop(kMipClockRins);\n+          // previous heuristic may have detected infeasibility\n+          if (!mipdata_->domain.infeasible()) {\n+            if (mipdata_->incumbent.empty()) {\n+              analysis_.mipTimerStart(kMipClockRens);\n+              mipdata_->heuristics.RENS(\n+                  mipdata_->lp.getLpSolver().getSolution().col_value);\n+              analysis_.mipTimerStop(kMipClockRens);\n+            } else {\n+              analysis_.mipTimerStart(kMipClockRins);\n+              mipdata_->heuristics.RINS(\n+                  mipdata_->lp.getLpSolver().getSolution().col_value);\n+              analysis_.mipTimerStop(kMipClockRins);\n+            }\n           }\n \n           mipdata_->heuristics.flushStatistics();\n--- src/mip/HighsSearch.cpp\n@@ -31,6 +31,9 @@ HighsSearch::HighsSearch(HighsMipSolver& mipsolver, HighsPseudocost& pseudocost)\n   countTreeWeight = true;\n   childselrule = mipsolver.submip ? ChildSelectionRule::kHybridInferenceCost\n                                   : ChildSelectionRule::kRootSol;\n+  // the infeasibility flag is overwritten and lost when setDomainChangeStack is\n+  // called. therefore, assume that localdom is not infeasible here.\n+  assert(!this->localdom.infeasible());\n   this->localdom.setDomainChangeStack(std::vector<HighsDomainChange>());\n }\n "
    ],
    "files_changed": [
      {
        "filename": "src/mip/HighsMipSolver.cpp",
        "status": "modified",
        "additions": 13,
        "deletions": 10,
        "changes": 23,
        "patch": "@@ -256,16 +256,19 @@ void HighsMipSolver::run() {\n             analysis_.mipTimerStop(kMipClockRandomizedRounding0);\n           }\n \n-          if (mipdata_->incumbent.empty()) {\n-            analysis_.mipTimerStart(kMipClockRens);\n-            mipdata_->heuristics.RENS(\n-                mipdata_->lp.getLpSolver().getSolution().col_value);\n-            analysis_.mipTimerStop(kMipClockRens);\n-          } else {\n-            analysis_.mipTimerStart(kMipClockRins);\n-            mipdata_->heuristics.RINS(\n-                mipdata_->lp.getLpSolver().getSolution().col_value);\n-            analysis_.mipTimerStop(kMipClockRins);\n+          // previous heuristic may have detected infeasibility\n+          if (!mipdata_->domain.infeasible()) {\n+            if (mipdata_->incumbent.empty()) {\n+              analysis_.mipTimerStart(kMipClockRens);\n+              mipdata_->heuristics.RENS(\n+                  mipdata_->lp.getLpSolver().getSolution().col_value);\n+              analysis_.mipTimerStop(kMipClockRens);\n+            } else {\n+              analysis_.mipTimerStart(kMipClockRins);\n+              mipdata_->heuristics.RINS(\n+                  mipdata_->lp.getLpSolver().getSolution().col_value);\n+              analysis_.mipTimerStop(kMipClockRins);\n+            }\n           }\n \n           mipdata_->heuristics.flushStatistics();"
      },
      {
        "filename": "src/mip/HighsSearch.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "patch": "@@ -31,6 +31,9 @@ HighsSearch::HighsSearch(HighsMipSolver& mipsolver, HighsPseudocost& pseudocost)\n   countTreeWeight = true;\n   childselrule = mipsolver.submip ? ChildSelectionRule::kHybridInferenceCost\n                                   : ChildSelectionRule::kRootSol;\n+  // the infeasibility flag is overwritten and lost when setDomainChangeStack is\n+  // called. therefore, assume that localdom is not infeasible here.\n+  assert(!this->localdom.infeasible());\n   this->localdom.setDomainChangeStack(std::vector<HighsDomainChange>());\n }\n "
      }
    ],
    "lines_added": 16,
    "lines_removed": 10
  },
  "issues": [],
  "pull_requests": [],
  "build_info": {
    "old_build_script": [
      "apt-get update",
      "cmake -S /test_workspace/workspace/old -B /test_workspace/workspace/old/build -DCMAKE_BUILD_TYPE=Debug -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -DBUILD_TESTING=ON -DBUILD_EXTRA_UNIT_TESTS=ON",
      "cmake --build /test_workspace/workspace/old/build -- -j 1"
    ],
    "new_build_script": [
      "apt-get update",
      "cmake -S /test_workspace/workspace/new -B /test_workspace/workspace/new/build -DCMAKE_BUILD_TYPE=Debug -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -DBUILD_TESTING=ON -DBUILD_EXTRA_UNIT_TESTS=ON",
      "cmake --build /test_workspace/workspace/new/build -- -j 1"
    ],
    "old_test_script": [
      "cd /test_workspace/workspace/old/build",
      "ctest --output-on-failure"
    ],
    "new_test_script": [
      "cd /test_workspace/workspace/new/build",
      "ctest --output-on-failure"
    ],
    "build_system": "cmake"
  },
  "performance_analysis": {
    "is_significant": false,
    "p_value": 0.9108547536960052,
    "is_pair_significant": false,
    "pair_p_value": 0.8848007110873364,
    "is_binom_significant": false,
    "binom_p_value": 0.572232224047184,
    "is_wilcoxon_significant": false,
    "wilcoxon_p_value": 0.7797573343402471,
    "is_mannwhitney_significant": false,
    "mannwhitney_p_value": 0.6220109899726434,
    "relative_improvement": -0.03726235741444869,
    "absolute_improvement_ms": -16.333333333333254,
    "old_mean_ms": 438.3333333333334,
    "new_mean_ms": 454.6666666666667,
    "old_std_ms": 127.11882394947985,
    "new_std_ms": 95.00393216302568,
    "effect_size_cohens_d": -0.14555239000977924,
    "old_ci95_ms": [
      390.8663843731251,
      485.8002822935417
    ],
    "new_ci95_ms": [
      419.1916153808427,
      490.1417179524907
    ],
    "old_ci99_ms": [
      374.36143193466,
      502.30523473200685
    ],
    "new_ci99_ms": [
      406.8564211656957,
      502.4769121676376
    ],
    "new_times_s": [
      0.19,
      0.36,
      0.5,
      0.45,
      0.41,
      0.36,
      0.51,
      0.31,
      0.49,
      0.47,
      0.32,
      0.7,
      0.54,
      0.52,
      0.52,
      0.55,
      0.47,
      0.52,
      0.49,
      0.4,
      0.37,
      0.46,
      0.33,
      0.55,
      0.54,
      0.31,
      0.27,
      0.42,
      0.48,
      0.52,
      0.5
    ],
    "old_times_s": [
      0.5,
      0.47,
      0.56,
      0.35,
      0.43,
      0.27,
      0.35,
      0.5,
      0.64,
      0.58,
      0.59,
      0.33,
      0.18,
      0.57,
      0.52,
      0.64,
      0.54,
      0.4,
      0.45,
      0.27,
      0.47,
      0.46,
      0.39,
      0.31,
      0.37,
      0.45,
      0.48,
      0.56,
      0.54,
      0.3,
      0.18
    ]
  },
  "tests": {
    "total_tests": 2,
    "significant_improvements": 0,
    "significant_improvements_tests": [],
    "significant_regressions": 0,
    "significant_regressions_tests": [],
    "significant_pair_improvements": 0,
    "significant_pair_improvements_tests": [],
    "significant_pair_regressions": 0,
    "significant_pair_regressions_tests": [],
    "significant_binom_improvements": 0,
    "significant_binom_improvements_tests": [],
    "significant_binom_regressions": 0,
    "significant_binom_regressions_tests": [],
    "significant_wilcoxon_improvements": 0,
    "significant_wilcoxon_improvements_tests": [],
    "significant_wilcoxon_regressions": 0,
    "significant_wilcoxon_regressions_tests": [],
    "significant_mannwhitney_improvements": 0,
    "significant_mannwhitney_improvements_tests": [],
    "significant_mannwhitney_regressions": 0,
    "significant_mannwhitney_regressions_tests": [],
    "tests": [
      {
        "test_name": "cxx_examples_call_highs_from_cpp",
        "is_significant": false,
        "p_value": 0.7058258678494771,
        "is_pair_significant": false,
        "pair_p_value": 0.6803083033851336,
        "is_binom_significant": false,
        "binom_p_value": 0.9075333289802074,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.7381665485975598,
        "is_mannwhitney_significant": false,
        "mannwhitney_p_value": 0.4250864379775945,
        "relative_improvement": -0.0049180327868851405,
        "absolute_improvement_ms": -1.0714285714285565,
        "old_mean_ms": 217.85714285714283,
        "new_mean_ms": 218.9285714285714,
        "old_std_ms": 83.46022085765449,
        "new_std_ms": 85.04200642707612,
        "effect_size_cohens_d": -0.012716524685091555,
        "old_ci95_ms": [
          185.49464768388825,
          250.21963803039742
        ],
        "new_ci95_ms": [
          185.95272384228113,
          251.90441901486165
        ],
        "old_ci99_ms": [
          174.15654814121925,
          261.55773757306645
        ],
        "new_ci99_ms": [
          174.39973818911588,
          263.45740466802687
        ],
        "new_times": [
          0.26,
          0.19,
          0.22,
          0.24,
          0.16,
          0.24,
          0.14,
          0.08,
          0.38,
          0.26,
          0.25,
          0.36,
          0.27,
          0.22,
          0.3,
          0.3,
          0.14,
          0.12,
          0.23,
          0.24,
          0.29,
          0.3,
          0.05,
          0.04,
          0.13,
          0.22,
          0.25,
          0.25
        ],
        "old_times": [
          0.07,
          0.19,
          0.12,
          0.25,
          0.28,
          0.28,
          0.31,
          0.34,
          0.22,
          0.1,
          0.25,
          0.24,
          0.31,
          0.27,
          0.15,
          0.22,
          0.03,
          0.26,
          0.19,
          0.25,
          0.19,
          0.25,
          0.28,
          0.24,
          0.3,
          0.3,
          0.17,
          0.04
        ]
      },
      {
        "test_name": "c_examples_call_highs_from_c_minimal",
        "is_significant": false,
        "p_value": 0.9664823579907844,
        "is_pair_significant": false,
        "pair_p_value": 0.9585428822940981,
        "is_binom_significant": false,
        "binom_p_value": 0.9075333289802074,
        "is_wilcoxon_significant": false,
        "wilcoxon_p_value": 0.9275255934532879,
        "is_mannwhitney_significant": false,
        "mannwhitney_p_value": 0.8733978623600412,
        "relative_improvement": -0.09849749582637726,
        "absolute_improvement_ms": -21.071428571428573,
        "old_mean_ms": 213.92857142857144,
        "new_mean_ms": 235.00000000000003,
        "old_std_ms": 76.70720115474629,
        "new_std_ms": 52.38744548500571,
        "effect_size_cohens_d": -0.32080627733754635,
        "old_ci95_ms": [
          184.18462393341366,
          243.6725189237292
        ],
        "new_ci95_ms": [
          214.6862692882253,
          255.31373071177472
        ],
        "old_ci99_ms": [
          173.7639244265745,
          254.09321843056836
        ],
        "new_ci99_ms": [
          207.56941690524167,
          262.4305830947584
        ],
        "new_times": [
          0.18,
          0.22,
          0.15,
          0.27,
          0.15,
          0.25,
          0.33,
          0.24,
          0.31,
          0.28,
          0.27,
          0.16,
          0.28,
          0.25,
          0.22,
          0.18,
          0.26,
          0.24,
          0.23,
          0.09,
          0.26,
          0.23,
          0.27,
          0.23,
          0.27,
          0.25,
          0.26,
          0.25
        ],
        "old_times": [
          0.27,
          0.24,
          0.15,
          0.1,
          0.22,
          0.37,
          0.27,
          0.25,
          0.1,
          0.08,
          0.32,
          0.28,
          0.33,
          0.26,
          0.24,
          0.23,
          0.23,
          0.21,
          0.27,
          0.15,
          0.11,
          0.12,
          0.17,
          0.24,
          0.27,
          0.24,
          0.13,
          0.14
        ]
      }
    ]
  },
  "logs": {
    "full_log_path": "/logs/full.log",
    "config_log_path": "/logs/config.log",
    "build_log_path": "/logs/build.log",
    "test_log_path": "/logs/test.log",
    "build_success": true,
    "test_success": true
  },
  "raw_timing_data": {
    "warmup_runs": 1,
    "measurement_runs": 30,
    "min_exec_time_improvement": 0.05,
    "min_p_value": 0.05
  }
}